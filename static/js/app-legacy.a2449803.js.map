{"version":3,"file":"static/js/app-legacy.a2449803.js","mappings":"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","sources":["webpack://channel/./src/App.vue?414a","webpack://channel/./src/App.vue","webpack://channel/./src/views/HomeView.vue?596d","webpack://channel/./src/components/THREE.vue?d7a3","webpack://channel/src/components/THREE.vue","webpack://channel/./src/components/THREE.vue?5f7d","webpack://channel/./src/components/THREE.vue","webpack://channel/./src/components/Loading.vue?d0dd","webpack://channel/src/components/Loading.vue","webpack://channel/./src/components/Loading.vue?7142","webpack://channel/./src/components/Loading.vue","webpack://channel/./src/components/layout/Header.vue?ddaf","webpack://channel/src/components/layout/Header.vue","webpack://channel/./src/components/layout/Header.vue?2969","webpack://channel/./src/components/layout/Header.vue","webpack://channel/./src/components/layout/BusinessWrap.vue?95c2","webpack://channel/src/components/layout/BusinessWrap.vue","webpack://channel/./src/components/layout/BusinessWrap.vue?fd80","webpack://channel/./src/components/layout/BusinessWrap.vue","webpack://channel/./src/components/layout/PanelContent.vue?0bcd","webpack://channel/src/components/layout/PanelContent.vue","webpack://channel/./src/components/layout/PanelContent.vue?443b","webpack://channel/./src/components/layout/PanelContent.vue","webpack://channel/./src/components/layout/Layer.vue?796d","webpack://channel/src/components/layout/Layer.vue","webpack://channel/./src/components/layout/Layer.vue?2fc5","webpack://channel/./src/components/layout/Layer.vue","webpack://channel/src/views/HomeView.vue","webpack://channel/./src/views/HomeView.vue?3637","webpack://channel/./src/views/HomeView.vue","webpack://channel/./src/router/index.js","webpack://channel/./src/js/3d/tools/utils.js","webpack://channel/./src/js/3d/extend/object3D_Ex.js","webpack://channel/./src/js/3d/obj/obj_lines.js","webpack://channel/./src/js/3d/tools/popups.js","webpack://channel/./src/js/3d/lib/viewpoint.js","webpack://channel/./src/js/3d/tools/eventInput.js","webpack://channel/./src/js/service/product.js","webpack://channel/./src/js/3d/product/index.js","webpack://channel/./src/js/utils/auth.js","webpack://channel/./src/js/service/ajax.js","webpack://channel/./src/js/service/ci.js","webpack://channel/./src/js/3d/obj/obj_device.js","webpack://channel/./src/js/3d/obj/obj_walls.js","webpack://channel/./src/js/3d/obj/obj_box.js","webpack://channel/./src/js/3d/obj/obj_park.js","webpack://channel/./src/js/3d/obj/obj_instanced.js","webpack://channel/./src/js/3d/obj/obj_group.js","webpack://channel/./src/js/3d/lib/obj_create.js","webpack://channel/./src/js/3d/lib/obj_factory.js","webpack://channel/./src/js/3d/tools/environmentEffect.js","webpack://channel/./src/js/3d/utils/effect.js","webpack://channel/./src/js/3d/utils/shader.js","webpack://channel/./src/js/3d/utils/index.js","webpack://channel/./src/js/3d/effect/radar.js","webpack://channel/./src/js/3d/effect/wall.js","webpack://channel/./src/js/3d/effect/fly.js","webpack://channel/./src/js/3d/obj/obj_tunnel.js","webpack://channel/./src/js/3d/tools/flyTo.js","webpack://channel/./src/js/3d/tools/meta.js","webpack://channel/./src/js/3d/index.js","webpack://channel/./src/main.js","webpack://channel/webpack/bootstrap","webpack://channel/webpack/runtime/chunk loaded","webpack://channel/webpack/runtime/compat get default export","webpack://channel/webpack/runtime/define property getters","webpack://channel/webpack/runtime/ensure chunk","webpack://channel/webpack/runtime/get javascript chunk filename","webpack://channel/webpack/runtime/get mini-css chunk filename","webpack://channel/webpack/runtime/global","webpack://channel/webpack/runtime/hasOwnProperty shorthand","webpack://channel/webpack/runtime/load script","webpack://channel/webpack/runtime/make namespace object","webpack://channel/webpack/runtime/node module decorator","webpack://channel/webpack/runtime/publicPath","webpack://channel/webpack/runtime/jsonp chunk loading","webpack://channel/webpack/startup"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7705ad4c&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Header'),_c('BusinessWrap'),_c('Layer'),_c('PanelContent'),_c('THREE'),(_vm.onLoad)?_c('Loading',{attrs:{\"loadingTime\":_vm.time}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"core\",style:({ width: _vm.width + 'px', height: _vm.height + 'px' }),attrs:{\"id\":\"div3d\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n      :style=\"{ width: width + 'px', height: height + 'px' }\"\r\n      id=\"div3d\"\r\n      class=\"core\"\r\n    ></div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-undef */\r\nexport default {\r\n  name: \"ThreeLoad\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n      width: null,\r\n      height: null,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$nextTick(() => {\r\n        META.init();\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.width = this.$el.offsetWidth;\r\n    this.height = this.$el.parentElement.offsetHeight;\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.core {\r\n  width: 100%;\r\n  height: 100%;\r\n  /* position: absolute; */\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./THREE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./THREE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./THREE.vue?vue&type=template&id=7ffd81cb&scoped=true&\"\nimport script from \"./THREE.vue?vue&type=script&lang=js&\"\nexport * from \"./THREE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./THREE.vue?vue&type=style&index=0&id=7ffd81cb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ffd81cb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"gress\"},[_c('div',{staticClass:\"sys-loading-name\",staticStyle:{\"justify-content\":\"center\"}},[_vm._v(\" 坪盐隧道 \")]),_c('Progress',{attrs:{\"percent\":_vm.loadingTime,\"hide-info\":\"\"}}),_c('div',{staticClass:\"sys-loading-description\",staticStyle:{\"justify-content\":\"center\"}},[_c('span',{staticClass:\"log\"},[_vm._v(\"正在加载\")]),_vm._v(_vm._s(_vm.loadingTime)+\"% \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"loading\">\r\n    <div class=\"gress\">\r\n      <div class=\"sys-loading-name\" style=\"justify-content: center\">\r\n        坪盐隧道\r\n      </div>\r\n      <Progress :percent=\"loadingTime\" hide-info />\r\n      <div class=\"sys-loading-description\" style=\"justify-content: center\">\r\n        <span class=\"log\">正在加载</span>{{ loadingTime }}%\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-undef */\r\nexport default {\r\n  name: \"LoadingPercent\",\r\n  props: {\r\n    loadingTime: Number,\r\n  },\r\n  data() {\r\n    return {\r\n      time:null\r\n    };\r\n  },\r\n  methods: {\r\n    \r\n  },\r\n  mounted() {\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.loading {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(#111e3e, #364674, #405389);\r\n    position: absolute;\r\n    top: 0px;\r\n}\r\n.gress {\r\n    position: absolute;\r\n    bottom: 62px;\r\n    left: 50%;\r\n    text-align: center;\r\n    transform: translateX(-50%);\r\n    border-bottom: 0;\r\n    width: 70%;\r\n    box-sizing: content-box;\r\n    line-height: 1;\r\n}\r\n.sys-loading-name {\r\n    margin-bottom: 20px;\r\n    font-size: 26px;\r\n    display: flex;\r\n    justify-content: center;\r\n    text-align: center;\r\n    color: #fff;\r\n}\r\n.sys-loading-description {\r\n    margin-top: 14px;\r\n    display: flex;\r\n    justify-content: center;\r\n    line-height: 21px;\r\n    text-align: center;\r\n    color: #dbdbdb;\r\n}\r\n.log {\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=c1c0fb8e&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=c1c0fb8e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1c0fb8e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('img',{attrs:{\"src\":_vm.imgBg}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header\">\r\n    <img :src=\"imgBg\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HeaderTop\",\r\n  data() {\r\n    return {\r\n      imgBg: `${require(\"@/assets/image/top.png\")}`,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.header {\r\n  height: 30px;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0px;\r\n}\r\n.header img {\r\n  width: 100%;\r\n  float: right;\r\n  padding: 1% 2%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=e3c39b56&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=e3c39b56&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3c39b56\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"business\",style:({top:_vm.top})},[_c('img',{attrs:{\"src\":_vm.imgBg}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"business\" :style=\"{top:top}\">\r\n    <img :src=\"imgBg\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"BusinessWrap\",\r\n  data() {\r\n    return {\r\n      top:window.innerWidth > 1920? '28%' : '36%',\r\n      imgBg: `${require(\"@/assets/image/leftTop.png\")}`,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.business {\r\n  position: absolute;\r\n  width: 11%;\r\n  left: 2%;\r\n}\r\n.business img {\r\n  width: 100%;\r\n  float: right;\r\n  padding: 1% 2%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusinessWrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusinessWrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessWrap.vue?vue&type=template&id=3e19e3c2&scoped=true&\"\nimport script from \"./BusinessWrap.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessWrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessWrap.vue?vue&type=style&index=0&id=3e19e3c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e19e3c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\",style:({top:_vm.top})},[_c('img',{attrs:{\"src\":_vm.imgBg}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"panel\" :style=\"{top:top}\">\r\n    <img :src=\"imgBg\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PanelContent\",\r\n  data() {\r\n    return {\r\n      top:window.innerWidth > 1920? '21%' : '30%',\r\n      imgBg: `${require(\"@/assets/image/rightTip.png\")}`,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.panel {\r\n  width: 11%;\r\n  position: absolute;\r\n  right: 2%;\r\n  top: 21%;\r\n}\r\n.panel img {\r\n  width: 100%;\r\n  float: right;\r\n  padding: 1% 2%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PanelContent.vue?vue&type=template&id=71bd5581&scoped=true&\"\nimport script from \"./PanelContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PanelContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PanelContent.vue?vue&type=style&index=0&id=71bd5581&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71bd5581\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer\"},[_c('img',{attrs:{\"src\":_vm.imgBg}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"layer\">\r\n    <img :src=\"imgBg\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LayerContent\",\r\n  data() {\r\n    return {\r\n      imgBg: `${require(\"@/assets/image/bottom.png\")}`,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.layer {\r\n  width: 33%;\r\n  position: absolute;\r\n  bottom: 0%;\r\n  left: 33%;\r\n}\r\n.layer img {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Layer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layer.vue?vue&type=template&id=f0bf5b3a&scoped=true&\"\nimport script from \"./Layer.vue?vue&type=script&lang=js&\"\nexport * from \"./Layer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layer.vue?vue&type=style&index=0&id=f0bf5b3a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0bf5b3a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home\">\r\n    <Header />\r\n    <BusinessWrap />\r\n    <Layer />\r\n    <PanelContent />\r\n    <THREE />\r\n    <Loading v-if=\"onLoad\" :loadingTime=\"time\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\nimport THREE from \"@/components/THREE.vue\";\r\nimport Loading from \"@/components/Loading.vue\";\r\nimport Header from \"@/components/layout/Header.vue\";\r\nimport BusinessWrap from \"@/components/layout/BusinessWrap.vue\";\r\nimport PanelContent from \"@/components/layout/PanelContent.vue\";\r\nimport Layer from \"@/components/layout/Layer.vue\";\r\n\r\nexport default {\r\n  name: \"HomeView\",\r\n  components: {\r\n    THREE,\r\n    Loading,\r\n    Header,\r\n    BusinessWrap,\r\n    PanelContent,\r\n    Layer,\r\n  },\r\n  data() {\r\n    return {\r\n      time: 0,\r\n      interval: null,\r\n      onLoad: true,\r\n    };\r\n  },\r\n  methods: {\r\n    load() {\r\n      this.interval = setInterval(() => {\r\n        if (window.META.onLoad) {\r\n          this.time = 100;\r\n          this.onLoad = false;\r\n          clearInterval(this.interval);\r\n        } else {\r\n          if (this.time > 90) {\r\n            this.time = 95\r\n          } else {\r\n            this.time += 5;\r\n          }\r\n        }\r\n      }, 20);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.load();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.home {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=2f1ddec6&scoped=true&\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeView.vue?vue&type=style&index=0&id=2f1ddec6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f1ddec6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'about',\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  // mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import * as THREE from \"three\";\r\n\r\n/**\r\n * 判断类型\r\n * @param obj\r\n * @param type\r\n * @returns {boolean}\r\n */\r\nexport const isType = function (obj, type) {\r\n    return toString.call(obj) === '[object ' + type + ']';\r\n};\r\n\r\n/**\r\n * 2个点直接的中心点\r\n * @param x1\r\n * @param y1\r\n * @param x2\r\n * @param y2\r\n * @returns {number[]}\r\n */\r\nexport const midpoint = ([x1, y1], [x2, y2]) => [(x1 + x2) / 2, (y1 + y2) / 2];\r\n\r\n/**\r\n * 2点直接的夹角\r\n * @param x1\r\n * @param x2\r\n * @param y1\r\n * @param y2\r\n * @returns {number}\r\n */\r\nexport const get2DPointAngle = (x1,x2,y1,y2)=>{\r\n    //裁剪数组第一个点 保证下次仍然两点\r\n    var radian = Math.atan2(y1 - y2, x1 - x2); // 返回来的是弧度\r\n    return  180 / Math.PI * radian;\r\n}\r\n\r\n/**\r\n * 2个点位直接的距离长度\r\n * @param x1\r\n * @param x2\r\n * @param y1\r\n * @param y2\r\n * @returns {number}\r\n */\r\nexport const getDistance =  (x1,x2,y1, y2)=> {\r\n    return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\r\n}\r\n\r\n/**\r\n * 2维转换\r\n * @param value\r\n * @param defaultValue\r\n * @returns {Vector2|{isVector2}|*}\r\n */\r\nexport const parseVector2 = function (value, defaultValue) {\r\n    if (value) {\r\n        // 参数：Vector2(0, 0);\r\n        if (value.isVector2) {\r\n            return value;\r\n        } else if (Array.isArray(value)) {\r\n            var x = value[0];\r\n            var y = value.length > 1 ? value[1] : 0;\r\n            return new THREE.Vector2(x, y);\r\n        }\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\n/**\r\n * 3维角度转换\r\n * @param value\r\n * @param defaultValue\r\n * @returns {*|{isVector3}|Vector3}\r\n */\r\nexport const parseVector3 = function (value, defaultValue) {\r\n    if (value) {\r\n        // 参数：Vector3(0, 1, 0);\r\n        if (value.isVector3) {\r\n            return value;\r\n        }\r\n        // 参数：[0, 1, 0]\r\n        else if (Array.isArray(value)) {\r\n            if (value.length === 1) {\r\n                return new THREE.Vector3(parseFloat(value[0]), 0, 0);\r\n            } else if (value.length === 2) {\r\n                return new THREE.Vector3(parseFloat(value[0]), 0, parseFloat(value[1]));\r\n            } else {\r\n                return new THREE.Vector3(parseFloat(value[0]), parseFloat(value[1]), parseFloat(value[2]));\r\n            }\r\n        }\r\n        // 参数：'0, 1, 0'\r\n        else if (isType(value,'String')) {\r\n            var strings = value.split(/,| /);\r\n            for (var i = 0; i < strings.length; i++) {\r\n                var string = strings[i].trimBoth('\\\\[\\\\]');\r\n                if (string.isBlank()) {\r\n                    strings.splice(i--, 1);\r\n                    continue;\r\n                }\r\n\r\n                strings[i] = Number(string);\r\n            }\r\n\r\n            return parseVector3(strings, defaultValue);\r\n        }\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\n/**\r\n * 4维角度转换\r\n * @param value\r\n * @param defaultValue\r\n * @returns {{isVector4}|*|Vector4}\r\n */\r\nexport const parseVector4 = function (value, defaultValue) {\r\n    if (value) {\r\n        // 参数：Vector4(0, 0, 0, 1);\r\n        if (value.isVector4) {\r\n            return value;\r\n        }\r\n        // 参数：[0, 0, 0, 1]\r\n        else if (Array.isArray(value)) {\r\n            if (value.length === 1) {\r\n                return new THREE.Vector4(value[0], 0, 0, 1);\r\n            } else if (value.length === 2) {\r\n                return new THREE.Vector4(value[0], 0, value[1], 1);\r\n            } else if (value.length === 3) {\r\n                return new THREE.Vector4(value[0], value[1], value[2], 1);\r\n            } else {\r\n                return new THREE.Vector4(value[0], value[1], value[2], value[3]);\r\n            }\r\n        }\r\n        // 参数：'0, 0, 0, 1'\r\n        else if (isType(value,'String')) {\r\n            var strings = value.split(/,| /);\r\n            for (var i = 0; i < strings.length; i++) {\r\n                var string = strings[i].trimBoth('\\\\[\\\\]');\r\n                if (string.isBlank()) {\r\n                    strings.splice(i--, 1);\r\n                    continue;\r\n                }\r\n\r\n                strings[i] = Number(string);\r\n            }\r\n\r\n            return parseVector4(strings, defaultValue);\r\n        }\r\n    }\r\n\r\n    return defaultValue;\r\n}","import { Object3D } from \"three\";\r\nimport * as THREE from \"three\";\r\nimport { parseVector3 } from '../tools/utils';\r\nimport { Mesh } from \"three\";\r\n\r\n/** 3D坐标 **/\r\nconst v3 = new THREE.Vector3();\r\n/** 包围盒盒模式 **/\r\nconst box3 = new THREE.Box3();\r\nObject3D.prototype.selfToWorld = function selfToWorld(localPos, ignoreScale = true) {\r\n    localPos = parseVector3(localPos);\r\n    this.node.updateMatrixWorld();\r\n\r\n    // 是否忽略缩放系数\r\n    if (ignoreScale) {\r\n        const position = new THREE.Vector3();\r\n        const scale = new THREE.Vector3();\r\n        const quaternion = new THREE.Quaternion();\r\n        this.node.matrixWorld.decompose(position, quaternion, scale);\r\n\r\n        var matrixWorld = new THREE.Matrix4();\r\n        matrixWorld.compose(position, quaternion, new THREE.Vector3(1, 1, 1));\r\n\r\n        return localPos.applyMatrix4(matrixWorld).toArray();\r\n    } else {\r\n        return this.node.localToWorld(localPos).toArray();\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * 获取物体包围盒和中心点\r\n * @returns {{depth, center, width, height}}\r\n */\r\nObject3D.prototype.getWorldAABB = function () {\r\n    const aabb = this.getFromObjAabb();\r\n    const size = aabb.getSize(v3);\r\n    const { x, y, z } = size;\r\n    return {\r\n        width: x,\r\n        height: y,\r\n        depth: z,\r\n    }\r\n}\r\n\r\n/**\r\n * 获取物体包围盒和中心点\r\n * @returns {{depth, center, width, height}}\r\n */\r\nObject3D.prototype.getCenter = function () {\r\n    const aabb = this.getFromObjAabb();\r\n    const size = aabb.center(v3);\r\n    return size;\r\n}\r\n\r\nObject3D.prototype.getFromObjAabb = function () {\r\n    const aabb = box3.setFromObject(this);\r\n    return aabb;\r\n}\r\n\r\n\r\n/**\r\n * 设置是否能pick\r\n * @param bool\r\n */\r\nObject3D.prototype.setPickEnabled = function (bool) {\r\n    this.pickEnabled = bool;\r\n}\r\n\r\n/**\r\n * 获取pick状态\r\n * @returns {boolean|*}\r\n */\r\nObject3D.prototype.getPickEnabled = function () {\r\n    return this.pickEnabled === undefined ? true : this.pickEnabled;\r\n}\r\n\r\n/**\r\n * 将世界坐标转相对坐标\r\n * @param {*} pos \r\n * @returns \r\n */\r\nObject3D.prototype.convertWorldToLocalPosition = function (pos) {\r\n    let vec;\r\n    if (pos.isVector3) {\r\n        vec = pos.clone();\r\n    } else {\r\n        vec = new THREE.Vector3(pos[0], pos[1], pos[2]);\r\n    }\r\n\r\n    const resultPos = this.worldToLocal(vec);\r\n    return [resultPos.x, resultPos.y, resultPos.z];\r\n\r\n};\r\n\r\n/**\r\n * 将相对坐标转换成世界坐标\r\n * @param {*} pos \r\n * @returns \r\n */\r\nObject3D.prototype.convertLocalToWorldPosition = function (pos) {\r\n    // this._recursionUpdate(this);\r\n    let vec;\r\n    if (pos.isVector3) {\r\n        vec = pos.clone();\r\n    } else {\r\n        vec = new THREE.Vector3(pos[0], pos[1], pos[2]);\r\n    }\r\n    vec = new THREE.Vector3(pos[0], pos[1], pos[2]);\r\n\r\n    const resultPos = this.localToWorld(vec);\r\n    return [resultPos.x, resultPos.y, resultPos.z];\r\n};\r\n\r\n\r\n/**\r\n * 设置相对坐标\r\n * @param {*} pos \r\n * @returns \r\n */\r\nObject3D.prototype.setLocalPostion = function (pos) {\r\n    // this._recursionUpdate(this);\r\n    let { x, z } = this.parent.position;\r\n    let vec = new THREE.Vector3(x + pos[0], pos[1], z + pos[2]);\r\n    this.position.set(vec.x, vec.y, vec.z);\r\n};\r\n\r\n/**\r\n * 销毁对象\r\n */\r\nObject3D.prototype.destroy = function () {\r\n    const self = this;\r\n    this.traverse(function (obj) {\r\n        if (obj.type === 'Mesh') {\r\n            obj.geometry.dispose();\r\n            obj.material.dispose();\r\n        }\r\n        self.remove(obj);\r\n    })\r\n    // 删除场景对象scene的子对象group\r\n    this.parent.remove(this);\r\n};\r\n\r\n/**\r\n * 销毁对象\r\n */\r\nObject3D.prototype.setOpacity = function (op) {\r\n    if (this.material) this.material.opacity = op\r\n};\r\n\r\n\r\n/**\r\n * 销毁对象\r\n */\r\nObject3D.prototype.destroyChildByName = function (name) {\r\n    const self = this;\r\n    this.traverse(function (obj) {\r\n        if (obj.name === name) {\r\n            if (obj instanceof Mesh) {\r\n                obj.geometry.dispose();\r\n                obj.material.dispose();\r\n            }\r\n            self.remove(obj);\r\n            // window.META.scene.remove(obj);\r\n        }\r\n    })\r\n};","import {Mesh} from \"three\"\r\nimport * as THREE from \"three\";\r\n// import CustomSinCurve from \"../extend/customSinCurve_Ex\";\r\n// import META from \"../index\";\r\nexport default class Lines extends Mesh{\r\n  constructor(param){\r\n    const {_POINTS_,_RADIUS_} = param;\r\n    let points = [];\r\n    JSON.parse(_POINTS_).forEach((cur)=>{\r\n      points.push( new THREE.Vector3( cur[0],cur[1],cur[2],) );\r\n    })\r\n    const curve = new THREE.CatmullRomCurve3(points);\r\n    const tubeGeometry = new THREE.TubeGeometry(curve, 300, _RADIUS_ || 1, 20, false);\r\n    const tubeMaterial = new THREE.MeshStandardMaterial( { \r\n      color: 0x00ff0f,\r\n      side: THREE.DoubleSide,\r\n      transparent:true,\r\n      // opacity:0 \r\n    });\r\n    super(tubeGeometry, tubeMaterial);\r\n    // this.castShadow = true;\r\n    this.type ='Lines';\r\n\r\n    // const path = new CustomSinCurve( 5 );\r\n    // const geometry = new THREE.TubeGeometry( path, 20, 0.1, 25, false );\r\n    // const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 })\r\n    // super(geometry,material);\r\n    // const pos = JSON.parse(_OFFSET_)\r\n    // this.position.set(pos[0],0,pos[2]);\r\n    // this.castShadow = true;\r\n    // this.type ='Lines';\r\n\r\n  }\r\n}\r\n","/* eslint-disable no-undef */\r\nimport * as THREE from \"three\";\r\nimport { CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer.js';\r\n// modifyDocument(\"lableTitleWarning\", \"red\", \"报警信息: 温度过高\");\r\nexport function modifyDocument(id, color, value) {\r\n    var dom = document.getElementById(id);\r\n    dom.style.color = color;\r\n    dom.textContent = value;\r\n}\r\n\r\n\r\n/**\r\n * 销毁tops\r\n * @param {*} name \r\n */\r\nexport function removeLableScene(name) {\r\n    window.META.scene.remove(window.META.scene.getObjectByName(name));\r\n}\r\n\r\nexport function createSpriteShape() {\r\n    /*1、创建一个画布，记得设置画布的宽高，否则将使用默认宽高，有可能会导致图像显示变形*/\r\n    let canvas = document.createElement(\"canvas\");\r\n    canvas.width = 120;\r\n    canvas.height = 120;\r\n    /*2、创建图形，这部分可以去看w3c canvas教程*/\r\n    let ctx = canvas.getContext(\"2d\");\r\n    ctx.fillStyle = \"#ff0000\";\r\n    ctx.arc(50, 50, 50, 0, 2 * Math.PI);\r\n    ctx.fill();\r\n    /*3、将canvas作为纹理，创建Sprite*/\r\n    let texture = new THREE.Texture(canvas);\r\n    texture.needsUpdate = true; //注意这句不能少\r\n    let material = new THREE.SpriteMaterial({ map: texture });\r\n    let mesh = new THREE.Sprite(material);\r\n    /*4、放大图片，每个精灵有自己的大小，默认情况下都是很小的，如果你不放大，基本是看不到的*/\r\n    mesh.scale.set(100, 100, 1);\r\n    window.META.scene.add(mesh);\r\n    //  return mesh;\r\n}\r\n\r\n\r\n\r\n/**\r\n * 详情tips\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function details(x = 0, y = 0, z = 0) {\r\n    const div = document.createElement('div');\r\n    const html = `<div></div><div></div>`;\r\n    div.append(html);\r\n    div.innerHTML = 'GDP';\r\n    div.style.padding = '4px 10px';\r\n    div.style.color = '#fff';\r\n    div.style.fontSize = '16px';\r\n    div.style.position = 'absolute';\r\n    div.style.backgroundColor = 'rgba(25,25,25,0.5)';\r\n    div.style.borderRadius = '5px';\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    label.name = name;\r\n}\r\n/**\r\n * 地磁提示\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function fieldTips(x = 0, y = 0, z = 0, name, { title, content }) {\r\n    const div = document.createElement('div');\r\n    const { offsetWidth } = META.dom;\r\n    const { isScreen } = META;\r\n    const width = isScreen ? '120' : offsetWidth * 0.08;\r\n    const bottom = width * 0.23 * 0.021;\r\n    div.style.width = width + 'px';\r\n    div.style.height = isScreen ? '84px' : width * 0.6 + 'px';\r\n    div.style.padding = isScreen ? '3px 10px 25px 10px' : `${bottom}px ${bottom * 3}px ${bottom}px ${bottom * 10}px`;\r\n\r\n    div.style.color = '#fff';\r\n    div.style.background = `url(${window.baseImage}tip/orangeTip.png) no-repeat`;\r\n    div.style.backgroundSize = `100% 100%`;\r\n    div.style.fontSize = width * 0.23 * 0.45 + 'px';\r\n    div.style.position = 'absolute';\r\n    div.style.zIndex = 1;\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n    label.name = name;\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    const html = `\r\n        <div>${title}</div>\r\n        <div style=\"margin-top: 10px;\">${content}</div>\r\n    `;\r\n    div.innerHTML = html;\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    return label;\r\n}\r\n\r\n/**\r\n * 车速提示\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function speedCar(x, y, z, name, { speed, traffic }) {\r\n    const div = document.createElement('div');\r\n    const { offsetWidth } = META.dom;\r\n    const { isScreen } = META;\r\n    const width = isScreen ? 120 : offsetWidth * 0.08;\r\n    const bottom = width * 0.23 * 0.021;\r\n    div.style.width = width + 'px';\r\n    div.style.height = isScreen ? '84px' : width * 0.6 + 'px';\r\n    div.style.padding = isScreen ? '17px 10px 10px 10px' : `${bottom}px ${bottom * 3}px ${bottom}px ${bottom * 10}px`;\r\n\r\n    div.style.color = '#fff';\r\n    div.style.background = `url(${window.baseImage}tip/greenTip.png) no-repeat`;\r\n    div.style.backgroundSize = `100% 100%`;\r\n    div.style.fontSize = width * 0.23 * 0.45 + 'px';\r\n    div.style.position = 'absolute';\r\n    div.style.zIndex = 1;\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.name = name;\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    const html = `\r\n       <div>平均车速：${speed}KM</div>\r\n       <div>车流量：${traffic}辆</div>\r\n    `;\r\n    div.innerHTML = html;\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    return label;\r\n}\r\n\r\n\r\n/**\r\n * 地磁车检\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function geomagneticCity(x, y, z, name, { title, content }) {\r\n    const div = document.createElement('div');\r\n    const { offsetWidth } = META.dom;\r\n    const { isScreen } = META;\r\n    const width = offsetWidth * 0.15;\r\n    const contentSize = width * 0.23 * 0.4;\r\n    const right = width * 0.20;\r\n    const top = width * 0.23 * 0.061;\r\n    const bottom = width * 0.23 * 0.021;\r\n    div.style.width = width * 0.74 + 'px';\r\n    div.style.height = width * 0.23 + 'px';\r\n    div.style.padding = `${top}px 0px ${bottom}px ${right}px`;\r\n\r\n    div.style.color = '#fff';\r\n    div.style.background = `url(${window.baseImage}tip/geomagnetism.png) no-repeat`;\r\n    div.style.backgroundSize = `100% 100%`;\r\n    div.style.fontSize = width * 0.23 * 0.2 + 'px';\r\n    div.style.position = 'absolute';\r\n    div.style.zIndex = 1;\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.name = name;\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    const html = `\r\n        <div>${title}</div>\r\n        <div><img style=\"width: ${contentSize}px;\r\n        margin-top: ${!isScreen?'0px':'15px'};\r\n        margin-right:${!isScreen?'0px':'18px'} ;\r\n        float: left;\" \r\n        src=${window.baseUrl}'/image/tip/alarmiIcon.png'> <span style=\"margin-top:${!isScreen?'0px':'31px'};\r\n        float: left;font-size:${contentSize * 0.5}px\">${content}</span></div>\r\n    `;\r\n    div.innerHTML = html;\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    return label;\r\n}\r\n\r\n/**\r\n * 拥堵报警\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function jamAlarm(x, y, z, name, { title, content }) {\r\n    const div = document.createElement('div');\r\n    const { isScreen } = META;\r\n    const { offsetWidth } = META.dom;\r\n    const width = offsetWidth * 0.15;\r\n    const contentSize = width * 0.23 * 0.4;\r\n    const right = width * 0.23;\r\n    const left = width * 0.23 * 0.1;\r\n    const top = width * 0.23 * 0.061;\r\n    const bottom = width * 0.23 * 0.021;\r\n    div.style.width = width * 0.74 + 'px';\r\n    div.style.height = width * 0.23 + 'px';\r\n    div.style.padding = `${top}px ${right}px ${bottom}px ${left}px`;\r\n\r\n    div.style.color = '#fff';\r\n    div.style.background = `url(${window.baseImage}tip/congestionTip.png) no-repeat`;\r\n    div.style.backgroundSize = `100% 100%`;\r\n    div.style.fontSize = width * 0.23 * 0.2 + 'px';\r\n    div.style.position = 'absolute';\r\n    div.style.zIndex = 1;\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.name = name;\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    const html = `\r\n        <div>${title}</div>\r\n        <div><img style=\"width: ${contentSize}px;\r\n        margin-top: ${!isScreen?'5px':'35px'};\r\n        margin-right: ${!isScreen?'5px':'18px'} ;\r\n        float: left;\" \r\n        src=${window.baseUrl}'/image/tip/alarmiIcon.png'> <span style=\"margin-top: ${!isScreen?'5px':'41px'};\r\n        float: left;font-size:${contentSize * 0.5}px\">${content}</span></div>\r\n    `;\r\n    div.innerHTML = html;\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    return label;\r\n}\r\n\r\n/**\r\n * 事故告警\r\n * @param {*} x \r\n * @param {*} y \r\n * @param {*} z \r\n */\r\nexport function carAccident(x, y, z, name, { title, content }) {\r\n    const div = document.createElement('div');\r\n    const { isScreen } = META;\r\n    const { offsetWidth } = META.dom;\r\n    const width = offsetWidth * 0.15;\r\n    const contentSize = width * 0.23 * 0.4;\r\n    const right = width * 0.20;\r\n    const top = width * 0.23 * 0.061;\r\n    const bottom = width * 0.23 * 0.31;\r\n    div.style.width = width * 0.74 + 'px';\r\n    div.style.padding = `${top}px ${top}px ${bottom}px ${right}px`;\r\n\r\n    div.style.color = '#fff';\r\n    div.style.background = `url(${window.baseImage}tip/geomagnetism.png) no-repeat`;\r\n    div.style.backgroundSize = `100% 100%`;\r\n\r\n    div.style.fontSize = '10px';\r\n    div.style.position = 'absolute';\r\n    div.style.zIndex = 1;\r\n    // div元素包装成为css2模型对象CSS2DObject\r\n    const label = new CSS2DObject(div);\r\n    label.name = name;\r\n    label.position.x = x;\r\n    label.position.y = y + 1;\r\n    label.position.z = z;\r\n    div.style.pointerEvents = 'none';//避免HTML标签遮挡三维场景的⿏标事件\r\n    const html = `\r\n        <div>${title}</div>\r\n        <div><img style=\"width: ${contentSize}px;\r\n        margin-top:${!isScreen?'5px':'35px'};\r\n        margin-right: ${!isScreen?'0px':'18px'};\r\n        float: left;\" \r\n        src=${window.baseUrl}'/image/tip/alarmiIcon.png'> <span style=\"margin-top: ${!isScreen?'5px':'41px'};\r\n        float: left;font-size:${contentSize * 0.5}px\">${content}</span></div>\r\n        \r\n        \r\n        </div>\r\n        <div><img style=\"    width: 100%;\r\n        margin-top: ${!isScreen?'5px':'11px'};\r\n        margin-right: ${!isScreen?'0px':'3px'};\r\n        float: left;\" \r\n        src=${window.baseUrl}'/image/tip/carAlarm.png'></div>\r\n    `;\r\n    div.innerHTML = html;\r\n    // 设置HTML元素标签在three.js世界坐标中位置\r\n    // label.position.set(x, y, z);\r\n    // 默认不显示\r\n    label.visible = true;\r\n    return label;\r\n}\r\n\r\n","/* eslint-disable */\r\nimport { fieldTips, speedCar, geomagneticCity, jamAlarm, carAccident } from \"../tools/popups\"\r\nlet tunnelData = [];\r\n\r\n\r\nlet alarmList = [];\r\nconst opArray = ['对象019', '对象021'];\r\n\r\n/**\r\n * \r\n * @param {*} bool 默认是大屏\r\n */\r\nexport function initData(bool){\r\n    tunnelData = [\r\n        // -134.64983269011088, y: 179.9070926103887, z: -907.9427452492092\r\n        {\r\n            type: 'magnetic',\r\n            x: bool?-47 :-50,\r\n            y: 100,\r\n            z: -932,\r\n            data: {\r\n                title: '#RUF1232',\r\n                content: '地磁车检器离线'\r\n            }\r\n        },\r\n        {\r\n            type: 'car',\r\n            x: bool? -34 : -45,\r\n            y: 100,\r\n            z: bool? -850 : -902,\r\n            data: {\r\n                speed: '64',\r\n                traffic: '1325'\r\n            }\r\n        },\r\n        {\r\n            type: 'car',\r\n            x: bool? -60 : -54,\r\n            y: 100,\r\n            z: bool? -1012 : -962,\r\n            data: {\r\n                speed: '63',\r\n                traffic: '1325'\r\n            }\r\n        },\r\n    \r\n        {\r\n            type: 'car',\r\n            x: bool? -31 : -35,\r\n            y: 100,\r\n            z: bool? -917 : -925,\r\n            data: {\r\n                speed: '65',\r\n                traffic: '123'\r\n            }\r\n        },\r\n        {\r\n            type: 'car',\r\n            x: bool? -18 : -31,\r\n            y: 100,\r\n            z: bool?-827:-895,\r\n            data: {\r\n                speed: '89',\r\n                traffic: '1326'\r\n            }\r\n        },\r\n        {\r\n            type: 'car',\r\n            x: bool? -42 : -40,\r\n            y: 100,\r\n            z: bool?-1000 : -955,\r\n            data: {\r\n                speed: '65',\r\n                traffic: '1327'\r\n            }\r\n        }\r\n    ];\r\n    \r\n    \r\n    alarmList = [\r\n        // -134.64983269011088, y: 179.9070926103887, z: -907.9427452492092\r\n        {\r\n            type: 'geomagneticCity', // 地磁\r\n            x: bool?650:270,\r\n            y: 300,\r\n            z: bool?-2532:-1900,\r\n            data: {\r\n                title: '#ZK03+40 ZCJ01',\r\n                content: '地磁车检器离线'\r\n            }\r\n        },\r\n        {\r\n            type: 'jamAlarm', // 拥堵\r\n            x: bool?0:250,\r\n            y: -250,\r\n            z: bool?0:-232,\r\n            data: {\r\n                title: '#ZK3+40',\r\n                content: '拥堵报警'\r\n            }\r\n        },\r\n        {\r\n            type: 'carAccident', // 事故告警\r\n            x: bool?0:-501,\r\n            y: bool?-470:-250,\r\n            z: bool?3532:2732,\r\n            data: {\r\n                title: '#ZK3+40',\r\n                content: '追车辆尾报警'\r\n            }\r\n        }\r\n    ]; \r\n}\r\n/**\r\n * 隧道tops\r\n */\r\nexport function tunnelDefault() {\r\n    const app = window.META;\r\n    tunnelData.forEach((cur, index) => {\r\n        const { x, y, z, data } = cur;\r\n        if (cur.type === 'car') {\r\n            app.scene.add(speedCar(x, y, z, cur.type + index + 'default', data));\r\n        } else {\r\n            app.scene.add(fieldTips(x, y, z, cur.type + index + 'default', data));\r\n        }\r\n    })\r\n    opArray.forEach((cur) => {\r\n        const ch = app.scene.getObjectByName(cur);\r\n        ch.visible = false;\r\n    })\r\n}\r\n\r\nwindow.tunnelDefault = tunnelDefault;\r\n\r\n/**\r\n * 删除tops\r\n */\r\nexport function removeTunnelDefault() {\r\n    const app = window.META;\r\n    tunnelData.forEach((cur, index) => {\r\n        const name = cur.type + index + 'default';\r\n        const obj = app.scene.getObjectByName(name);\r\n        app.scene.remove(obj);\r\n    })\r\n    opArray.forEach((cur) => {\r\n        const ch = app.scene.getObjectByName(cur);\r\n        ch.visible = true;\r\n    })\r\n}\r\n\r\n/**\r\n * 园区效果\r\n */\r\nexport function parkDefult() {\r\n    const parentObj  =  window.META.scene.getObjectByName('对象001')\r\n    alarmList.forEach((cur, index) => {\r\n        const { x, y, z, data } = cur;\r\n        if (cur.type === 'geomagneticCity') {\r\n            parentObj.add(geomagneticCity(x, y, z, cur.type + index + 'default', data));\r\n        } else if (cur.type === 'jamAlarm') {\r\n            parentObj.add(jamAlarm(x, y, z, cur.type + index + 'default', data));\r\n        } else if (cur.type === 'carAccident') {\r\n            parentObj.add(carAccident(x, y, z, cur.type + index + 'default', data));\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 销毁园区默认效果\r\n */\r\n\r\n/**\r\n * 删除tops\r\n */\r\nexport function removeParkDefult() {\r\n    const app = window.META;\r\n    const parentObj  =  app.scene.getObjectByName('对象001')\r\n    alarmList.forEach((cur, index) => {\r\n        const name = cur.type + index + 'default';\r\n        const obj = app.scene.getObjectByName(name);\r\n        parentObj.remove(obj);\r\n    })\r\n}","/* eslint-disable */\r\nimport * as THREE from \"three\";\r\nimport Lines from \"../obj/obj_lines\";\r\nimport { tunnelDefault, parkDefult, removeTunnelDefault,removeParkDefult } from \"../lib/viewpoint\"\r\nclass EventInput {\r\n    constructor(app) {\r\n        this.app = app;\r\n        this.mouse = new THREE.Vector2();\r\n        this.raycaster = new THREE.Raycaster();\r\n        this.scene = this.app.scene.getObjectByName('pyScene') || this.app.scene;\r\n        this.selectedObject = [];\r\n        this.rootObj = null;\r\n        this.count = 0;//右键双击\r\n        this.timer = null;\r\n        this.flyEnd = true;\r\n        this.init();\r\n    }\r\n    init() {\r\n        // 左键单击\r\n        this.app.dom.addEventListener('click', this.addOnClick);\r\n        // 左键双击\r\n        this.app.dom.addEventListener('dblclick', this.onLeftDbClick);\r\n        // 右击\r\n        this.app.dom.oncontextmenu = this.rightDbCLick\r\n    }\r\n\r\n\r\n    getRootObj() {\r\n        return META.eventInput.rootObj;\r\n    }\r\n    /**\r\n     * \r\n     * @param {*} event \r\n     */\r\n\r\n    /**\r\n     * 左键单击\r\n     */\r\n    addOnClick(event) {\r\n        event.preventDefault();\r\n        META.eventInput.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n        META.eventInput.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        META.eventInput.raycaster.setFromCamera(META.eventInput.mouse, META.camera);\r\n        const pickObj = META.eventInput.getPickObj(META.eventInput.raycaster.intersectObject(META.eventInput.scene, true))\r\n        if (pickObj) {\r\n            META.outLinePass.selectedObjects = [];// [pickObj];\r\n            META.eventInput.rootObj = pickObj;\r\n        } else {\r\n            META.outLinePass.selectedObjects = [];\r\n            META.eventInput.rootObj = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 左键双击\r\n     * @param {} ev \r\n     */\r\n    onLeftDbClick(event) {\r\n        event.preventDefault();\r\n        META.eventInput.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n        META.eventInput.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        META.eventInput.raycaster.setFromCamera(META.eventInput.mouse, META.camera);\r\n        const pickObj = META.eventInput.getPickObj(META.eventInput.raycaster.intersectObject(META.eventInput.scene, true))\r\n        if (pickObj) {\r\n            if (META.eventInput.flyEnd) {\r\n                // 销毁默认 \r\n                removeParkDefult();\r\n                META.eventInput.flyEnd = false;\r\n                META.fly.flyTo(pickObj, () => {\r\n                    if (pickObj instanceof Lines) {\r\n                        META.isFlyControls = true;\r\n                    }\r\n                    META.eventInput.flyEnd = true;\r\n                    // 加汽车tps\r\n                    tunnelDefault();\r\n                });\r\n            }\r\n            // const  {x,y,z} = pickObj.position\r\n            // META.camera.position.set(x,y,z)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 右键双击\r\n     * @param {*} event \r\n     */\r\n    rightDbCLick(event) {\r\n        // event.preventDefault();\r\n        // META.eventInput.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n        // META.eventInput.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        // META.eventInput.raycaster.setFromCamera(META.eventInput.mouse, META.camera);\r\n        // const pickObj = META.eventInput.getPickObj(META.eventInput.raycaster.intersectObject(META.eventInput.scene, true))\r\n        // if (pickObj && pickObj.parent) {\r\n        //     META.fly.flyTo(pickObj);\r\n        // } else{\r\n        // todo\r\n        if (META.eventInput.flyEnd) {\r\n            META.eventInput.count += 1; // 连续点击次数\r\n            META.eventInput.timer = setTimeout(function () {\r\n                clearTimeout(META.eventInput.timer);\r\n                if (META.eventInput.count > 1) {\r\n                    META.eventInput.count = 0;\r\n                    META.eventInput.flyEnd = false;\r\n                    // 删除车\r\n                    removeTunnelDefault();\r\n                    // 处理点击事件\r\n                    META.fly.flyTo('default', () => {\r\n                        META.isFlyControls = false;\r\n                        META.eventInput.flyEnd = true;\r\n                        parkDefult();\r\n                    });\r\n                }\r\n                META.eventInput.count = 0;\r\n            }, 200)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * pick\r\n     */\r\n    onPointerMove(event) {\r\n        META.eventInput.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n        META.eventInput.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        META.eventInput.raycaster.setFromCamera(META.eventInput.mouse, META.camera);\r\n        const pickObj = eventLists.getPickObj(META.eventInput.raycaster.intersectObject(META.scene, true));\r\n        if (pickObj) {\r\n            META.outLinePass.selectedObjects = pickObj;\r\n        } else {\r\n            META.outLinePass.selectedObjects = [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取物体\r\n     * @param {*} arr \r\n     * @returns \r\n     */\r\n    getPickObj(arr = []) {\r\n        let pick = null;\r\n        arr.forEach(({ object }) => {\r\n            if (object && !object.getPickEnabled()) {\r\n                return;\r\n            }\r\n            pick = object;\r\n            // else if(object && object.getPickEnabled()){\r\n            //     pick = object;\r\n            // }\r\n        })\r\n        return pick;\r\n    }\r\n}\r\n\r\nexport default EventInput;","\r\n\r\n/**\r\n * 获取所有模型资源\r\n * @returns\r\n */\r\nexport const getProduct =()=>{\r\n    return new Promise((resolve)=>{\r\n        const arr = [\r\n            {\r\n                'id':'demo',\r\n                'url':'/models/demo/demo0528.gltf',\r\n                'name':'demo'\r\n            }\r\n        ]\r\n        resolve(arr);\r\n    })\r\n}\r\n\r\n/**\r\n * 获取所有材质资源\r\n * @returns\r\n */\r\nexport const getProductMaterial =()=>{\r\n    return new Promise((resolve)=>{\r\n        const arr = [\r\n            {\r\n                'id':'20010',\r\n                'url':'/material/grid/hardwood2_bump.jpg',\r\n                'name':'hardwood2_bump'\r\n            },\r\n            {\r\n                'id':'20011',\r\n                'url':'/material/grid/hardwood2_diffuse.jpg',\r\n                'name':'hardwood2_diffuse'\r\n            },\r\n            {\r\n                'id':'20012',\r\n                'url':'/material/grid/hardwood2_roughness.jpg',\r\n                'name':'hardwood2_roughness'\r\n            },\r\n            {\r\n                'id':'20013',\r\n                'url':'/material/test.jpg',\r\n                'name':'test'\r\n            },\r\n            {\r\n                'id':'20017',\r\n                'url':'/textures/grasslight-big.jpg',\r\n                'name':'grasslight'\r\n            },\r\n        ]\r\n        resolve(arr);\r\n    })\r\n}\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-dupe-class-members */\r\nimport {GLTFLoader} from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport * as THREE from \"three\";\r\nimport {getProduct,getProductMaterial} from \"../../service/product\"\r\nconst loader = new GLTFLoader();\r\nconst textureLoader =  new THREE.TextureLoader()\r\nexport default class ProductManager{\r\n    constructor(){\r\n        // 存储所有的模型对象\r\n        this.productModelLists = []; // 所有模型对象集合\r\n        this.productMaterialsList = [];// 所有图片资源集合\r\n        this.productModelObjs = {}; // 所有gltf模型集合\r\n        this.materialsObjs = {}; // 图片资源集合\r\n        this.parkObj = null;\r\n    }\r\n\r\n    /**\r\n     * 加载所有模型\r\n     */\r\n    async loadModels(){\r\n        const that = this;\r\n        this.productModelLists = await getProduct();\r\n        await Promise.all(that.productModelLists.map(async (element) => {\r\n            let model =  await that.loadModel(element.url);\r\n            that.productModelObjs[element.name] = model;\r\n        }));\r\n\r\n    }\r\n\r\n    setParkObj(node){\r\n        this.parkObj = node;\r\n    }\r\n\r\n    /**\r\n     * 获取load节点\r\n     * @param {*} name \r\n     * @returns \r\n     */\r\n    getParkChildNams(name){\r\n        return this.parkObj.getChildByName(name)\r\n    }\r\n    /**\r\n     * 加载单个模型\r\n     * @param {*} url\r\n     * @returns\r\n     */\r\n    async loadModel(url){\r\n        return new Promise((resolve)=>{\r\n            loader.load(url,  (gltf)=> {\r\n                // gltf.scene.traverse( function ( object ) {\r\n                //     if ( object.isMesh ) object.castShadow = true;\r\n                // } );\r\n                resolve(gltf);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 加载所有图片资源\r\n     */\r\n     async loadMaterials(){\r\n        const that = this;\r\n        this.productMaterialsList = await getProductMaterial();\r\n        await Promise.all(that.productMaterialsList.map(async (element) => {\r\n            const model =  await that.loadMaterial(element.url);\r\n            that.materialsObjs[element.name] = model;\r\n        }));\r\n\r\n    }\r\n    /**\r\n     * 加载单个模型\r\n     * @param {*} url\r\n     * @returns\r\n     */\r\n    async loadMaterial(url){\r\n        return new Promise((resolve)=>{\r\n            const material = textureLoader.load( url);\r\n            resolve(material);\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取图片资源\r\n     * @param {*} name\r\n     * @returns\r\n     */\r\n    getMaterialByName(name){\r\n        return this.materialsObjs[name];\r\n    }\r\n\r\n    /**\r\n     * 获取单个模型\r\n     * @param {*} name\r\n     * @returns\r\n     */\r\n    getModelByName(name){\r\n        return this.productModelObjs[name];\r\n    }\r\n\r\n    /**\r\n     * 获取ci信息\r\n     * @param ci\r\n     */\r\n    getProduct(){\r\n\r\n    }\r\n}\r\n","export function getToken(){\r\n    return 'TOKEN-XXX'\r\n}","import axios from \"axios\";\r\nimport { Message } from \"view-design\";\r\nimport { getToken } from \"../utils/auth\";\r\n\r\n/**\r\n * 构建axios\r\n */\r\nconst service = axios.create({\r\n    baseURL:process.env.BASE_URL,\r\n    timeout:5000\r\n})\r\n\r\n/**\r\n * 请求拦截器\r\n */\r\nservice.interceptors.request.use(\r\n    config => {\r\n        const token = getToken();\r\n        if(token){\r\n           config.headers['X-Token'] = token;\r\n        }\r\n        return config\r\n    },\r\n    error=>{\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n/**\r\n * 相应拦截器\r\n */\r\nservice.interceptors.response.use(\r\n    response=>{\r\n        let res = response\r\n        if(res.status!==200){\r\n            Message.error(res.message || '接口异常');\r\n            return Promise.reject(res.message || '接口异常')\r\n        }else{\r\n            return res.data\r\n        }\r\n    }\r\n)\r\n\r\n\r\n/**\r\n * post\r\n * @param {*} url \r\n * @param {*} method \r\n * @param {*} params \r\n */\r\nexport function post(url,params){\r\n    service({\r\n       url,\r\n       method:'post', \r\n       params\r\n    })\r\n}\r\n\r\n/**\r\n * get\r\n * @param {*} url \r\n * @param {*} method \r\n * @param {*} params \r\n */\r\n export function get(url,params){\r\n    service({\r\n       url,\r\n       method:'get', \r\n       params\r\n    })\r\n}\r\n","/* eslint-disable no-undef */\r\nimport $ from \"jquery\"\r\nimport { post } from \"./ajax\";\r\n/**\r\n * 获取所有ci数据\r\n * @returns\r\n */\r\nexport const getScCis = (id) => {\r\n    if(META.isMock){\r\n        return new Promise((resolve) => {\r\n            $.getJSON(`/mocks/getCi_${id}.json`, (data) => {\r\n                resolve(data);\r\n            });\r\n        })\r\n    }\r\n    return post('/query/ci',{id})\r\n}\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-useless-constructor */\r\nimport { Object3D } from \"three\";\r\nimport * as THREE from \"three\";\r\n// 元宇宙基础类\r\nexport default class Device extends Object3D  {\r\n    constructor(app){\r\n        super(app);\r\n        this.type ='Device';\r\n        // 动画集合\r\n        this.actions = {};\r\n        const {_PRODUCT_,_OFFSET_,_STYLE_,_NAME_,_ISPICK_} = app;\r\n        const node = META.productManager.getParkChildNams(_PRODUCT_);\r\n        if(node){\r\n            this.animations = node.animations;\r\n            this.isAnimations() && this.creatAnimations(node.scene,node.animations)\r\n            this.lastActiveAction = null;//上一次的动画\r\n            if(_STYLE_){\r\n              for(const cur in _STYLE_){\r\n                node.material[cur] = _STYLE_[cur];\r\n              }\r\n            }\r\n            // node.material.color.setStyle('#040912');\r\n            this.copy(node.material);\r\n            this.name = _NAME_;\r\n            this.setPickEnabled(_ISPICK_===undefined?true:_ISPICK_);\r\n            // node.clear();\r\n            // node.geometry.dispose();\r\n            // node.matrial.dispose();\r\n            if(_OFFSET_){\r\n                const pos = JSON.parse(_OFFSET_);\r\n                this.position.set(pos[0],pos[1],pos[2]);\r\n            }\r\n        }\r\n    }\r\n\r\n    init(){\r\n\r\n    }\r\n\r\n    /**\r\n     * 判断是否有动画\r\n     * @returns {[]|*}\r\n     */\r\n    isAnimations(){\r\n        return this.animations.length > 0;\r\n    }\r\n\r\n    /**\r\n     * 初始化所有动画\r\n     */\r\n    creatAnimations(node,animations){\r\n        const states = [ 'Idle', 'Walking', 'Running', 'Dance', 'Death', 'Sitting', 'Standing' ];\r\n        const emotes = [ 'Jump', 'Yes', 'No', 'Wave', 'Punch', 'ThumbsUp' ];\r\n\r\n\r\n        const mixer = new THREE.AnimationMixer( node );\r\n\r\n        for ( let i = 0; i < animations.length; i ++ ) {\r\n\r\n            const clip = animations[ i ];\r\n            const action = mixer.clipAction( clip );\r\n            this.actions[ clip.name ] = action;\r\n\r\n            if ( emotes.indexOf( clip.name ) >= 0 || states.indexOf( clip.name ) >= 4 ) {\r\n\r\n                action.clampWhenFinished = true;\r\n                action.loop = THREE.LoopOnce;\r\n\r\n            }\r\n\r\n        }\r\n        this.fadeToAction();\r\n    }\r\n\r\n    fadeToAction( name = 'Walking', duration = 0.2 ) {\r\n        const self = this;\r\n        if(!this.actions[ name ]) return;\r\n        if ( this.lastActiveAction ) {\r\n            this.lastActiveAction.fadeOut( duration );\r\n            this.actions[ name ].reset()\r\n                .setEffectiveTimeScale( 1 )\r\n                .setEffectiveWeight( 1 )\r\n                .fadeIn( duration )\r\n                .play();\r\n            this.lastActiveAction = this.actions[ name ];\r\n        }else{\r\n            setInterval(()=>{\r\n                self.actions[ name ].play();\r\n            },300)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","/* eslint-disable no-undef */\r\nimport * as THREE from \"three\";\r\nimport  {getDistance,midpoint,get2DPointAngle} from  '../tools/utils'\r\nimport {Mesh} from \"three\";\r\n// 元宇宙基础类\r\nexport default class Walls extends Mesh  {\r\n    constructor(app){\r\n        // 首先二维点\r\n        // const cubeMat = new THREE.MeshStandardMaterial( {\r\n        //     color: 0xffffff,\r\n        //     roughness:0.5,\r\n        //     metalness:0.5\r\n        // });\r\n        // const {start,end,height,depth,PARENTWIDTH,PARENTDEPAT}  = app;\r\n        // const w = getDistance(start[0],end[0],start[1],end[1])\r\n        // const angle = get2DPointAngle(start[0],end[0],start[1],end[1]);\r\n        // const boxGeometry = new THREE.BoxBufferGeometry(  w+depth, height, depth );\r\n        // super(boxGeometry,cubeMat);\r\n        // this.userData = app;\r\n        // this.userData.width = w;\r\n        // const pos = midpoint(start, end);\r\n        // console.error('数学题',pos,angle)\r\n        // this.position.set( pos[0]-PARENTWIDTH/2, height/2, pos[1]+PARENTDEPAT/2);\r\n        // if(angle!==0 && angle!==180){\r\n        //     this.rotation.y = - (angle/180*Math.PI);\r\n        // }\r\n        // this.castShadow = true;\r\n\r\n        // 测试墙\r\n        const {start,end,height,depth,PARENTWIDTH,PARENTDEPAT}  = app;\r\n        const w = getDistance(start[0],end[0],start[1],end[1])\r\n        const angle = get2DPointAngle(start[0],end[0],start[1],end[1]);\r\n        const shapeBox = new THREE.Shape();\r\n\r\n        shapeBox.moveTo( -depth, -0 );\r\n        shapeBox.lineTo( -depth, height );\r\n        shapeBox.lineTo( w,height  );\r\n        shapeBox.lineTo( w, -0 );\r\n        shapeBox.lineTo( -depth, -0 );\r\n\r\n        /**\r\n         * 掏门洞\r\n         * @type {{bevelSize: number, bevelSegments: number, depth, bevelEnabled: boolean, bevelThickness: number}}\r\n         */\r\n        for(let cur in app._CHILDREN_){\r\n            const {_PRODUCT_,_LOCATION_} = app._CHILDREN_[cur];\r\n            const obj = META.productManager.getModelByName(_PRODUCT_).scene;\r\n            const {width,height} = obj && obj.getWorldAABB();\r\n            const path =  Walls.setDoorPosit(Number(_LOCATION_),width,height);\r\n            shapeBox.holes.push( path );\r\n        }\r\n\r\n\r\n        const extrudeSettings = {\r\n            depth:depth,\r\n            bevelEnabled: false,\r\n            bevelThickness: 1,\r\n            bevelSize: 0,\r\n            bevelSegments: 1\r\n        };\r\n\r\n\r\n        const geometry = new THREE.ExtrudeGeometry( shapeBox, extrudeSettings );\r\n        super(geometry,new THREE.MeshPhongMaterial( {\r\n                    color: 0xffffff,\r\n                    roughness:0.5,\r\n                    side: THREE.DoubleSide,\r\n                    transparent : true,\r\n                    opacity : 0.5 ,\r\n                    metalness:0.5\r\n                })\r\n        );\r\n        // 改变轴心\r\n        geometry.center();\r\n        const pos = midpoint(start, end);\r\n        if(angle!==0 && angle!==180){\r\n            this.rotation.y = angle/180*Math.PI;\r\n        }\r\n        this.opacity = 0.5 ;\r\n        this.position.set( pos[0]-PARENTWIDTH/2, height/2, pos[1]+PARENTDEPAT/2-4);\r\n        this.type ='Wall';\r\n    }\r\n\r\n    /**\r\n     * 给门淘一个洞\r\n     * @param pos\r\n     * @param width\r\n     * @param height\r\n     */\r\n    static setDoorPosit(pos,width,height){\r\n        const smileyMouthPath = new THREE.Path();\r\n        const start =pos-width/2;\r\n        const end =pos+width/2;\r\n        smileyMouthPath.moveTo(start,0);\r\n        smileyMouthPath.lineTo(start,height);\r\n        smileyMouthPath.lineTo(end, height);\r\n        smileyMouthPath.lineTo(end, 0);\r\n        smileyMouthPath.lineTo(start,0);//第5点\r\n        return smileyMouthPath;\r\n    }\r\n}\r\n","// BOX类\r\nimport { Mesh } from \"three\"\r\nimport * as THREE from \"three\";\r\nexport default class Box extends Mesh{\r\n  constructor(param){\r\n    const cubeMat = new THREE.MeshStandardMaterial( {\r\n      side: THREE.FrontSide,\r\n      // shadowSide: THREE.BackSide,\r\n      color:Math.random() * 0xffffff,\r\n    });\r\n    const {WIDTH = 100,HEIGHT = 200,DEPAT = 100,_OFFSET_} = param;\r\n    const boxGeometry = new THREE.BoxBufferGeometry( WIDTH, HEIGHT, DEPAT );\r\n    super(boxGeometry,cubeMat);\r\n    this.type ='Box';\r\n    if(_OFFSET_){\r\n      const pos = JSON.parse(_OFFSET_)\r\n      this.position.set(pos[0],HEIGHT/2,pos[2]);\r\n    }\r\n    this.castShadow = true;\r\n    this.receiveShadow = true;\r\n  }\r\n}\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-useless-constructor */\r\nimport { Object3D } from \"three\";\r\n// 元宇宙基础类\r\nexport default class Park extends Object3D  {\r\n    constructor(app){\r\n        super(app);\r\n        this.type ='Park';\r\n        // 动画集合\r\n        this.actions = {};\r\n        const {_PRODUCT_,_OFFSET_} = app;\r\n        if(_PRODUCT_.length > 0){\r\n            const node = META.productManager.getParkChildNams(_PRODUCT_) || META.productManager.getModelByName(_PRODUCT_).scene;\r\n            this.animations = node.animations;\r\n            this.lastActiveAction = null;//上一次的动画\r\n            this.copy(node);\r\n            node.remove();\r\n            if(_OFFSET_){\r\n                const pos = JSON.parse(_OFFSET_);\r\n                this.position.set(pos[0],pos[1],pos[2]);\r\n            }\r\n        }\r\n    }\r\n\r\n    init(){\r\n\r\n    }\r\n}\r\n","import * as THREE from \"three\";\r\nimport {InstancedMesh} from \"three\";\r\nexport default class InstancedEx extends InstancedMesh {\r\n    constructor(app) {\r\n        // 目前是缺失的\r\n        const alls = [\r\n            {\r\n                pos:[Math.random() * 40 - 20,Math.random() * 40 - 20, Math.random() * 40 - 20],\r\n                rotations:[0,0,0],\r\n                scales:[1,1,1],\r\n            }\r\n        ];\r\n        const geometry = new THREE.BoxGeometry(1,1,1);\r\n        const material = new THREE.MeshStandardMaterial({\r\n            //map:materialTools.map, // 环境贴图\r\n            color:0x2194ce,\r\n            roughness:0.5,//材质的粗糙程度\r\n            metalness:0,//金属相似度\r\n        });\r\n        super(geometry, material, alls.length);\r\n        this.type ='instancedEx';\r\n        this.makeInstanced();\r\n        const pos = JSON.parse(app._OFFSET_)\r\n        this.position.set(pos[0],pos[1]+10,pos[2]);\r\n        this.type ='Instanced';\r\n        // this.\r\n    }\r\n\r\n    /**\r\n     * 初始化所有物体\r\n     */\r\n    makeInstanced(alls=[]){\r\n        const self = this;\r\n        const matrix = new THREE.Matrix4();\r\n        alls.forEach((cur,index)=>{\r\n            self.randomizeMatrix(cur.pos,cur.rotations,cur.scales);\r\n            self.setMatrixAt( index, matrix );\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 通过id获取instanced物体\r\n     */\r\n    getInstancedId(){\r\n\r\n    }\r\n\r\n    /**\r\n     * 生成动态位置\r\n     * @type {function(*): void}\r\n     */\r\n    randomizeMatrix = function (rotations=[0,0,0],scales=[1,1,1]) {\r\n        const position = new THREE.Vector3();\r\n        const rotation = new THREE.Euler();\r\n        const quaternion = new THREE.Quaternion();\r\n        const scale = new THREE.Vector3();\r\n        return function ( matrix ) {\r\n            // 位置\r\n            position.x = Math.random() * 40 - 20;\r\n            position.y = Math.random() * 40 - 20;\r\n            position.z = Math.random() * 40 - 20;\r\n            // 旋转\r\n            rotation.x = rotations[0];\r\n            rotation.y = rotations[1];\r\n            rotation.z = rotations[2];\r\n            quaternion.setFromEuler( rotation );\r\n            // 缩放\r\n            scale.x = scales[0];\r\n            scale.y = scales[1];\r\n            scale.z = scales[2];\r\n            matrix.compose( position, quaternion, scale );\r\n\r\n        };\r\n\r\n    }()\r\n}\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-useless-constructor */\r\nimport { Group } from \"three\";\r\n// 元宇宙基础类\r\nexport default class GroupEx extends Group  {\r\n    constructor(app){\r\n        super(app);\r\n        this.type ='GroupEx';\r\n        const {_OFFSET_} = app;\r\n        if(_OFFSET_){\r\n            const pos = JSON.parse(_OFFSET_);\r\n            this.position.set(pos[0],pos[1],pos[2]);\r\n        }\r\n    }\r\n}\r\n","/*全局物体类型创建*/\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-console */\r\nimport Device from '../obj/obj_device';\r\nimport Walls from \"../obj/obj_walls\";\r\nimport Box from \"../obj/obj_box\";\r\nimport Lines from \"../obj/obj_lines\";\r\nimport Park from \"../obj/obj_park\";\r\nimport InstancedEx from \"../obj/obj_instanced\";\r\nimport GroupEx from \"../obj/obj_group\";\r\nconst create = () => {};\r\n// 前台队列集合\r\ncreate.objTypes =  {\r\n  'Walls':Walls,\r\n  'Device': Device,//mesh基础物体类\r\n  'Box':Box,\r\n  'Lines':Lines,\r\n  'InstancedEx':InstancedEx,\r\n  'Park':Park,\r\n  'Group':GroupEx\r\n}\r\n\r\ncreate.setType = (name,type)=>{\r\n  create.objTypes[name] = type;\r\n}\r\n\r\ncreate.getObjTypes = (name)=>{\r\n  return create.objTypes[name];\r\n}\r\n/**\r\n * 创建物体\r\n * @param param\r\n * @returns {Promise<*>}a\r\n */\r\ncreate.create = (data) => {\r\n  let  obj = new create.objTypes[data.type](data.param);\r\n  // 挂载用户数据\r\n  obj.userData = data.param;\r\n  if (data.complete) {\r\n    data.complete(obj);\r\n    delete data.complete;\r\n  }\r\n  return  obj;\r\n};\r\nexport default create\r\n","/* eslint-disable no-undef */\r\nimport {getScCis} from '../../service/ci';\r\nimport create from \"./obj_create\";\r\nconst factory =()=> {}\r\n// 所有物体集合\r\nfactory.objs = {}\r\n/**\r\n * 构建物体\r\n * @param classId 物体数据库id\r\n * @param name 物体物体名称\r\n * @returns {null}\r\n */\r\nfactory.createObject = (param)=> {\r\n  const {_PARENTDBID_,_ID_,_TYPE_} = param;\r\n  // if(param._OFFSET_ && PARENTWIDTH && PARENTDEPAT){\r\n  //   let _OFFSET_ = JSON.parse(param._OFFSET_);\r\n  //   _OFFSET_[0]-=PARENTWIDTH/2;\r\n  //   _OFFSET_[2]-=PARENTDEPAT/2;\r\n  //   param._OFFSET_ = JSON.stringify(_OFFSET_);\r\n  // }\r\n  const createObj =   create.create({\r\n    type:_TYPE_,\r\n    complete: ()=> {\r\n    },\r\n    param\r\n  });\r\n  if(_ID_){\r\n    factory.objs[_ID_] =  createObj;\r\n  }\r\n  const parent = factory.objs[_PARENTDBID_];\r\n  parent ? parent.add(createObj): META.scene.add(createObj);\r\n  createObj.init && createObj.init();\r\n}\r\n\r\n/**\r\n * 获取3D物体\r\n * @param dbid\r\n * @returns {*|null}\r\n */\r\nfactory.getObjectByDbid = (dbid)=> {\r\n  return factory.objs[dbid];\r\n}\r\n\r\n/**\r\n * objs 所有3D物体\r\n * @param objs\r\n */\r\nfactory.getCis = (scId,fun)=> {\r\n    getScCis(scId).then( async (data) => {\r\n      let loading = 100/data.length;\r\n      if(loading > 0) {\r\n        loading = parseInt(loading)\r\n      }\r\n      factory.recursiveObj(data,loading);\r\n      if(fun) fun();\r\n    })\r\n}\r\n\r\n/**\r\n * 初始化物体\r\n * @param {*} data\r\n */\r\nfactory.recursiveObj = (data,loading)=> {\r\n  for (let cur in data) {\r\n    let obj = data[cur];\r\n    // 实例化每个类型的物体\r\n    obj._TYPE_ && factory.createObject(obj);\r\n\r\n    if (obj._TYPE_ || obj._CHILDREN_) {\r\n      if(obj._CHILDREN_){\r\n        factory.recursiveObj(obj._CHILDREN_,loading);\r\n      }\r\n    }\r\n  }\r\n}\r\nexport default factory\r\n","/* eslint-disable no-undef */\r\nimport * as THREE from 'three';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\r\nimport { GlitchPass } from 'three/examples/jsm/postprocessing/GlitchPass';\r\nconst boomParams = {\r\n    exposure: 1.2,\r\n    bloomStrength: 0.1,\r\n    bloomThreshold: 0.6,\r\n    bloomRadius: 0.6\r\n};\r\nexport default class environmentEffect {\r\n    constructor(app) {\r\n        this.app = app;\r\n        // 脉冲\r\n        this.pass = new GlitchPass();\r\n        // 描边\r\n        this.outLinePass = new OutlinePass(new THREE.Vector2(app.dom.offsetWidth, app.dom.offsetHeight), app.scene, app.camera);\r\n        // 泛光\r\n        this.bloomPass = new UnrealBloomPass(new THREE.Vector2(app.dom.offsetWidth, app.dom.offsetHeight), 1.5, 0.4, 0.85);\r\n        // 添加添加pick线\r\n        this.initOutLine();\r\n        // // 添加boom\r\n        // this.initBoom();\r\n        // // 添加脉冲\r\n        // this.effectGlitchPass();\r\n        // 添加场景光\r\n        this.addPointLight();\r\n        // 添加背景颜色\r\n        this.addBackgroundImg(window.baseImage+'curtain.png');\r\n        // this.addSkyBoxCubemap();\r\n        // 添加场景地板\r\n        // this.addPlaneGrid();\r\n        // this.addFog();\r\n    }\r\n\r\n    addHemiLight() {\r\n\r\n        const dirLight = new THREE.DirectionalLight(0xffffff, 1);\r\n        dirLight.color.setHSL(0.1, 1, 0.95);\r\n        dirLight.position.set(- 1, 1.75, 1);\r\n        dirLight.position.multiplyScalar(30);\r\n        this.app.scene.add(dirLight);\r\n\r\n        dirLight.castShadow = true;\r\n\r\n        // const hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);\r\n        // hemiLight.color.setHSL(0.6, 1, 0.6);\r\n        // hemiLight.groundColor.setHSL(0.095, 1, 0.75);\r\n        // hemiLight.position.set(3006.452849809113, 3466.627800031605, 38.7962564494514);\r\n        // this.app.scene.add(hemiLight);\r\n\r\n        // const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 20);\r\n        // this.app.scene.add(hemiLightHelper);\r\n    }\r\n\r\n    // 设置地板\r\n    setFloor(object) {\r\n        Utils.forMaterial(object.material, (material) => {\r\n            material.color.setStyle(\"#040912\");\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 正常光和地板\r\n     * @param {*} url \r\n     * @returns \r\n     */\r\n\r\n    addRrdinaryGrid() {\r\n        const gt = new THREE.TextureLoader().load(\"/textures/hardwood2_bump.jpg\");\r\n        const gg = new THREE.PlaneGeometry(10000, 10000);\r\n        const gm = new THREE.MeshPhongMaterial({ color: 0x808080, map: gt });\r\n\r\n        const ground = new THREE.Mesh(gg, gm);\r\n        ground.rotation.x = - Math.PI / 2;\r\n        ground.material.map.repeat.set(8, 8);\r\n        ground.material.map.wrapS = ground.material.map.wrapT = THREE.RepeatWrapping;\r\n        ground.material.map.encoding = THREE.sRGBEncoding;\r\n        ground.receiveShadow = true;\r\n\r\n        this.app.scene.add(ground);\r\n    }\r\n\r\n\r\n\r\n    addPointLight() {\r\n        const bulbGeometry = new THREE.SphereGeometry(0, 16, 8);\r\n        const bulbLight = new THREE.PointLight(0xffffff, 2, 0, 2);\r\n\r\n        const bulbMat = new THREE.MeshStandardMaterial({\r\n            emissive: 0xffffee,\r\n            emissiveIntensity: 1,\r\n            color: 0x000000\r\n        });\r\n        bulbLight.add(new THREE.Mesh(bulbGeometry, bulbMat));\r\n        bulbLight.position.set(3006.452849809113, 3466.627800031605, 38.7962564494514);\r\n        bulbLight.castShadow = true;\r\n        this.app.scene.add(bulbLight);\r\n\r\n        // 环境光\r\n        const hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.8);\r\n        this.app.scene.add(hemiLight);\r\n    }\r\n\r\n    /**\r\n     * 添加雾\r\n     */\r\n    addFog() {\r\n        this.app.scene.fog = new THREE.Fog(0xffffff, 100, 160000);\r\n    }\r\n\r\n    /**\r\n     * 添加天空盒\r\n     */\r\n    addSkyBoxCubemap(path = '/effectBox/skyboxPolar') {\r\n        const loader = new THREE.CubeTextureLoader();\r\n        const texture = loader.load([\r\n            path + '/Sky_Space_Right.jpg',\r\n            path + '/Sky_Space_Left.jpg',\r\n            path + '/Sky_Space_Up.jpg',\r\n            path + '/Sky_Space_Down.jpg',\r\n            path + '/Sky_Space_Back.jpg',\r\n            path + '/Sky_Space_Front.jpg',\r\n        ]);\r\n        this.app.scene.background = texture;\r\n    }\r\n\r\n    /**\r\n     * 环境地板\r\n     */\r\n    addPlaneGrid() {\r\n        // 形状\r\n        const geometry = new THREE.PlaneBufferGeometry(10000, 10000);\r\n        // 材质\r\n        const material = new THREE.MeshPhongMaterial();\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.name = 'grid';\r\n        mesh.material.color.setStyle('#f8f8f8');\r\n        mesh.rotation.x = - Math.PI / 2;\r\n        mesh.receiveShadow = true;\r\n        this.app.scene.add(mesh);\r\n    }\r\n\r\n    /**\r\n     * 原型地板\r\n     */\r\n    addCircleGrid() {\r\n        const geometry = new THREE.CircleGeometry(5000, 60);\r\n        const material = new THREE.MeshBasicMaterial({ color: 0xffff00 });\r\n        const circle = new THREE.Mesh(geometry, material);\r\n        circle.rotation.x = - Math.PI / 2;\r\n        circle.receiveShadow = true;\r\n        this.app.scene.add(circle);\r\n    }\r\n\r\n    /**\r\n     * 添加颜色\r\n     * @param color\r\n     */\r\n    addBackground(color) {\r\n        this.app.scene.background = new THREE.Color(color || '#0e1829');\r\n    }\r\n\r\n    /**\r\n     * 添加背景图\r\n     */\r\n    addBackgroundImg(url){\r\n        const loader1 = new THREE.TextureLoader();\r\n        const bgTexture = loader1.load(url);\r\n        this.app.scene.background = bgTexture;\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加流动线\r\n     */\r\n    initOutLine() {\r\n        // 定制化特效\r\n        this.outLinePass.edgeStrength = Number(10);\r\n        this.outLinePass.edgeGlow = Number(0.5);\r\n        this.outLinePass.edgeThickness = Number(2.5);\r\n        this.outLinePass.pulsePeriod = Number(2.5);\r\n        this.outLinePass.visibleEdgeColor.set('#ed8e00');\r\n        this.app.composer.addPass(this.outLinePass);\r\n        this.app.outLinePass = this.outLinePass;\r\n    }\r\n\r\n\r\n    /**\r\n     * 整体泛光\r\n     */\r\n    initBoom() {\r\n        this.bloomPass.threshold = boomParams.bloomThreshold;\r\n        this.bloomPass.strength = boomParams.bloomStrength;\r\n        this.bloomPass.radius = boomParams.bloomRadius;\r\n        this.app.composer.addPass(this.bloomPass);\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    effectGlitchPass() {\r\n        this.pass.renderToScreen = true;\r\n        this.app.composer.addPass(this.pass)\r\n    }\r\n}\r\n\r\n\r\n","import * as THREE from 'three'\r\nexport default {\r\n    // 获取到包围的线条\r\n    surroundLineGeometry(object) {\r\n        return new THREE.EdgesGeometry(object.geometry);\r\n    }\r\n}","const base = `\r\nprecision mediump float;\r\n\r\nfloat distanceTo(vec2 src, vec2 dst) {\r\n    float dx = src.x - dst.x;\r\n    float dy = src.y - dst.y;\r\n    float dv = dx * dx + dy * dy;\r\n    return sqrt(dv);\r\n} \r\n\r\nfloat lerp(float x, float y, float t) {\r\n    return (1.0 - t) * x + t * y;\r\n}\r\n\r\n#define PI 3.14159265359\r\n#define PI2 6.28318530718\r\n\r\n`\r\nconst surroundLine = {\r\n    // 顶点着色器\r\n    vertexShader: `\r\n    #define PI 3.14159265359\r\n\r\n    uniform mediump float uStartTime;\r\n    uniform mediump float time;\r\n    uniform mediump float uRange;\r\n    uniform mediump float uSpeed;\r\n\r\n    uniform vec3 uColor;\r\n    uniform vec3 uActive;\r\n    uniform vec3 uMin;\r\n    uniform vec3 uMax;\r\n\r\n    varying vec3 vColor;\r\n\r\n    float lerp(float x, float y, float t) {\r\n        return (1.0 - t) * x + t * y;\r\n    }\r\n    void main() { \r\n        if (uStartTime >= 0.99) {\r\n            float iTime = mod(time * uSpeed - uStartTime, 1.0);\r\n            float rangeY = lerp(uMin.y, uMax.y, iTime);\r\n            if (rangeY < position.y && rangeY > position.y - uRange) {\r\n                float index = 1.0 - sin((position.y - rangeY) / uRange * PI);\r\n                float r = lerp(uActive.r, uColor.r, index);\r\n                float g = lerp(uActive.g, uColor.g, index);\r\n                float b = lerp(uActive.b, uColor.b, index);\r\n\r\n                vColor = vec3(r, g, b);\r\n            } else {\r\n                vColor = uColor;\r\n            }\r\n        }\r\n        vec3 vPosition = vec3(position.x, position.y, position.z * uStartTime);\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\r\n    } \r\n    `,\r\n    // 片元着色器\r\n    fragmentShader: ` \r\n    ${base} \r\n    uniform float time;\r\n    uniform float uOpacity;\r\n    uniform float uStartTime;\r\n\r\n    varying vec3 vColor; \r\n\r\n    void main() {\r\n\r\n        gl_FragColor = vec4(vColor, uOpacity * uStartTime);\r\n    }\r\n    `\r\n}\r\nexport default {\r\n    base,\r\n    surroundLine\r\n}","/**\r\n * 公共方法\r\n */\r\n// import * as THREE from 'three'\r\n\r\nexport default {\r\n    forMaterial(materials, callback) {\r\n        if (!callback || !materials) return false;\r\n        if (Array.isArray(materials)) {\r\n            materials.forEach((mat) => {\r\n                callback(mat);\r\n            });\r\n        } else {\r\n            callback(materials);\r\n        }\r\n    }\r\n}\r\n\r\n","import * as THREE from 'three';\r\n\r\nconst frag_basic = `\r\nprecision mediump float;\r\n \r\nfloat atan2(float y, float x){\r\n  float t0, t1, t2, t3, t4;\r\n  t3 = abs(x);\r\n  t1 = abs(y);\r\n  t0 = max(t3, t1);\r\n  t1 = min(t3, t1);\r\n  t3 = float(1) / t0;\r\n  t3 = t1 * t3;\r\n  t4 = t3 * t3;\r\n  t0 = -float(0.013480470);\r\n  t0 = t0 * t4 + float(0.057477314);\r\n  t0 = t0 * t4 - float(0.121239071);\r\n  t0 = t0 * t4 + float(0.195635925);\r\n  t0 = t0 * t4 - float(0.332994597);\r\n  t0 = t0 * t4 + float(0.999995630);\r\n  t3 = t0 * t3;\r\n  t3 = (abs(y) > abs(x)) ? float(1.570796327) - t3 : t3;\r\n  t3 = (x < 0.0) ?  float(3.141592654) - t3 : t3;\r\n  t3 = (y < 0.0) ? -t3 : t3;\r\n  return t3;\r\n}\r\n// 计算距离\r\nfloat distanceTo(vec2 src, vec2 dst) {\r\n\tfloat dx = src.x - dst.x;\r\n\tfloat dy = src.y - dst.y;\r\n\tfloat dv = dx * dx + dy * dy;\r\n\treturn sqrt(dv);\r\n}\r\n\r\n#define PI 3.14159265359\r\n#define PI2 6.28318530718\r\n\r\nuniform vec3 u_color;\r\nuniform float time;\r\nuniform float u_opacity;\r\nuniform float u_radius;\r\nuniform float u_width;\r\nuniform float u_speed;\r\n\r\nvarying vec2 v_position;\r\n\r\n    `\r\nconst Shader = {\r\n    vertexShader: `\r\n    varying vec2 v_position;\r\n    \r\n    void main() {\r\n        v_position = vec2(position.x, position.y);\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    }`,\r\n    fragmentShader: `\r\n    ${frag_basic} \r\n    void main() {\r\n        float d_time = u_speed * time;\r\n\r\n        float angle = atan2(v_position.x, v_position.y) + PI;\r\n        \r\n        float angleT = mod(angle + d_time, PI2);\r\n\r\n        float width = u_width;\r\n    \r\n        float d_opacity = 0.0;\r\n\r\n        // 当前位置离中心位置\r\n        float length = distanceTo(vec2(0.0, 0.0), v_position);\r\n        \r\n        float bw = 5.0;\r\n        if (length < u_radius && length > u_radius - bw) {\r\n            float o = (length - (u_radius - bw)) / bw;\r\n            d_opacity = sin(o * PI); \r\n        }\r\n\r\n        if (length < u_radius - bw / 1.1) {\r\n            d_opacity = 1.0 - angleT / PI * (PI / width);\r\n        } \r\n\r\n        if (length > u_radius) { d_opacity = 0.0; }\r\n \r\n        gl_FragColor = vec4(u_color, d_opacity * u_opacity);\r\n    }`\r\n}\r\nexport default function (opts) {\r\n    const {\r\n        radius = 50,\r\n        color = \"#fff\",\r\n        speed = 1,\r\n        opacity = 1,\r\n        angle = Math.PI,\r\n        position = {\r\n            x: 0,\r\n            y: 0,\r\n            z: 0\r\n        },\r\n        rotation = {\r\n            x: -Math.PI / 2,\r\n            y: 0,\r\n            z: 0\r\n        }\r\n    } = opts;\r\n\r\n    const width = radius * 2;\r\n\r\n    const geometry = new THREE.PlaneBufferGeometry(width, width, 1, 1);\r\n\r\n    const material = new THREE.ShaderMaterial({\r\n        uniforms: {\r\n            u_radius: {\r\n                value: radius\r\n            },\r\n            u_speed: {\r\n                value: speed\r\n            },\r\n            u_opacity: {\r\n                value: opacity\r\n            },\r\n            u_width: {\r\n                value: angle\r\n            },\r\n            u_color: {\r\n                value: new THREE.Color(color)\r\n            },\r\n            time: {\r\n                value: 0\r\n            }\r\n        },\r\n        transparent: true,\r\n        depthWrite: false,\r\n        side: THREE.DoubleSide,\r\n        vertexShader: Shader.vertexShader,\r\n        fragmentShader: Shader.fragmentShader\r\n    })\r\n\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n\r\n    mesh.rotation.set(rotation.x, rotation.y, rotation.z);\r\n    mesh.position.copy(position);\r\n\r\n    return mesh\r\n}","import * as THREE from 'three';\r\n\r\nconst vertexShader = `\r\nuniform vec3 u_color;\r\n\r\nuniform float time;\r\nuniform float u_height;\r\n \r\nvarying float v_opacity;\r\n\r\nvoid main() {\r\n\r\n    vec3 vPosition = position * mod(time, 1.0);\r\n\r\n    v_opacity = mix(1.0, 0.0, position.y / u_height);\r\n \r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\r\n}\r\n`;\r\nconst fragmentShader = ` \r\nuniform vec3 u_color;\r\nuniform float u_opacity;\r\n \r\nvarying float v_opacity;\r\n\r\nvoid main() { \r\n    gl_FragColor = vec4(u_color, v_opacity * u_opacity);\r\n}\r\n`;\r\n\r\n\r\nexport default function (option = {}) {\r\n    const {\r\n        radius,\r\n        height,\r\n        opacity,\r\n        color,\r\n        speed,\r\n        renderOrder\r\n    } = option;\r\n    const geometry = new THREE.CylinderGeometry(radius, radius, height, 32, 1, true);\r\n    geometry.translate(0, height / 2, 0);\r\n    const material = new THREE.ShaderMaterial({\r\n        uniforms: {\r\n            u_height: {\r\n                value: height\r\n            },\r\n            u_speed: {\r\n                value: speed || 1\r\n            },\r\n            u_opacity: {\r\n                value: opacity\r\n            },\r\n            u_color: {\r\n                value: new THREE.Color(color)\r\n            },\r\n            time: {\r\n                value: 0\r\n            }\r\n        },\r\n        transparent: true,\r\n        depthWrite: false,\r\n        depthTest: false,\r\n        side: THREE.DoubleSide,\r\n        vertexShader: vertexShader,\r\n        fragmentShader: fragmentShader\r\n    });\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    mesh.renderOrder = renderOrder || 1;\r\n    return mesh;\r\n}","import * as THREE from 'three';\r\nexport default function (option) {\r\n    const {\r\n        source,\r\n        target,\r\n        height,\r\n        size,\r\n        color,\r\n        range\r\n    } = option;\r\n    const positions = [];\r\n    const attrPositions = [];\r\n    const attrCindex = [];\r\n    const attrCnumber = [];\r\n\r\n    const _source = new THREE.Vector3(source.x, source.y, source.z);\r\n    const _target = new THREE.Vector3(target.x, target.y, target.z);\r\n    const _center = _target.clone().lerp(_source, 0.5);\r\n    _center.y += height;\r\n\r\n    const number = parseInt(_source.distanceTo(_center) + _target.distanceTo(_center));\r\n\r\n    const curve = new THREE.QuadraticBezierCurve3(\r\n        _source,\r\n        _center,\r\n        _target\r\n    );\r\n\r\n    const points = curve.getPoints(number);\r\n\r\n    // 粒子位置计算 \r\n\r\n    points.forEach((elem, i) => {\r\n        const index = i / (number - 1);\r\n        positions.push({\r\n            x: elem.x,\r\n            y: elem.y,\r\n            z: elem.z\r\n        });\r\n        attrCindex.push(index);\r\n        attrCnumber.push(i);\r\n    })\r\n\r\n\r\n    positions.forEach((p) => {\r\n        attrPositions.push(p.x, p.y, p.z);\r\n    })\r\n\r\n    const geometry = new THREE.BufferGeometry();\r\n\r\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(attrPositions, 3));\r\n    // 传递当前所在位置\r\n    geometry.setAttribute('index', new THREE.Float32BufferAttribute(attrCindex, 1));\r\n    geometry.setAttribute('current', new THREE.Float32BufferAttribute(attrCnumber, 1));\r\n\r\n    const shader = new THREE.ShaderMaterial({\r\n        transparent: true,\r\n        depthWrite: false,\r\n        depthTest: false,\r\n        blending: THREE.AdditiveBlending,\r\n        uniforms: {\r\n            uColor: {\r\n                value: new THREE.Color(color) // 颜色\r\n            },\r\n            uRange: {\r\n                value: range || 100 // 显示当前范围的个数\r\n            },\r\n            uSize: {\r\n                value: size // 粒子大小\r\n            },\r\n            uTotal: {\r\n                value: number // 当前粒子的所有的总数\r\n            },\r\n            time: {\r\n                value: 0 // \r\n            }\r\n        },\r\n        vertexShader: `\r\n        attribute float index;\r\n        attribute float current;\r\n        uniform float time;\r\n        uniform float uSize;\r\n        uniform float uRange; // 展示区间\r\n        uniform float uTotal; // 粒子总数\r\n        uniform vec3 uColor; \r\n        varying vec3 vColor;\r\n        varying float vOpacity;\r\n        void main() {\r\n            // 需要当前显示的索引\r\n            float size = uSize;\r\n            float showNumber = uTotal * mod(time, 1.1);\r\n            if (showNumber > current && showNumber < current + uRange) {\r\n                float uIndex = ((current + uRange) - showNumber) / uRange;\r\n                size *= uIndex;\r\n                vOpacity = 1.0;\r\n            } else {\r\n                vOpacity = 0.0;\r\n            }\r\n\r\n            // 顶点着色器计算后的Position\r\n            vColor = uColor;\r\n            vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\r\n            gl_Position = projectionMatrix * mvPosition; \r\n            // 大小\r\n            gl_PointSize = size * 300.0 / (-mvPosition.z);\r\n        }`,\r\n        fragmentShader: `\r\n        varying vec3 vColor; \r\n        varying float vOpacity;\r\n        void main() {\r\n            gl_FragColor = vec4(vColor, vOpacity);\r\n        }`\r\n    });\r\n\r\n    const point = new THREE.Points(geometry, shader);\r\n    \r\n    return point;\r\n}","/* eslint-disable no-unused-vars */\r\nimport * as THREE from 'three'\r\n// import {\r\n//     FBXLoader\r\n// } from 'three/examples/jsm/loaders/FBXLoader.js'\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport Effects from '../utils/effect'\r\nimport Shader from '../utils/shader'\r\nimport Utils from '../utils/index'\r\nimport {\r\n    Radar,\r\n    Wall,\r\n    Fly\r\n} from '../effect/index'\r\n\r\nconst radarData = [{\r\n    position: {\r\n        x: 666,\r\n        y: 22,\r\n        z: 0\r\n    },\r\n    radius: 150,\r\n    color: '#ff0000',\r\n    opacity: 0.5,\r\n    speed: 2\r\n}, {\r\n    position: { // 第一个落点\r\n        x: 200,\r\n        y: 25,\r\n        z: 2466\r\n    },\r\n    radius: 220,\r\n    color: '#efad35',\r\n    opacity: 0.5,\r\n    speed: 1\r\n}];\r\nconst wallData = [{\r\n    position: {\r\n        x: -150,\r\n        y: 15,\r\n        z: 100\r\n    },\r\n    speed: 0.5,\r\n    color: '#efad35',\r\n    opacity: 0.9,\r\n    radius: 5000,\r\n    height: 220,\r\n    renderOrder: 5\r\n}]\r\nconst flyData = [{\r\n    source: {\r\n        x: -150,\r\n        y: 15,\r\n        z: 100\r\n    },\r\n    target: {\r\n        x: 200,\r\n        y: 25,\r\n        z: 2466\r\n    },\r\n    range: 120,\r\n    height: 100,\r\n    color: '#efad35',\r\n    speed: 1,\r\n    size: 30\r\n}, {\r\n    source: {\r\n        x: -150,\r\n        y: 15,\r\n        z: 100\r\n    },\r\n    target: {\r\n        x: 666,\r\n        y: 22,\r\n        z: 0\r\n    },\r\n    height: 300,\r\n    range: 150,\r\n    color: '#ff0000',\r\n    speed: 1,\r\n    size: 40\r\n}]\r\n\r\nclass Tunnel {\r\n    constructor(app,fun) {\r\n        this.app = app;\r\n        this.gltfLoader = new GLTFLoader();\r\n        this.group = new THREE.Group();\r\n        this.effectMap = {\r\n            '对象001': {\r\n                opacity: 0.6,\r\n                uColor: '#4C8BF5',\r\n                uActiveColor: '#fff'\r\n            },\r\n            '对象002': {\r\n                opacity: 1,\r\n                uColor: '#4C8BF5',\r\n                uActiveColor: '#fff'\r\n            }\r\n        }\r\n\r\n        this.effectGroup = new THREE.Group();\r\n\r\n        this.group.add(this.effectGroup);\r\n\r\n        this.surroundLineMaterial = null;\r\n        this.time = {\r\n            value: 0\r\n        };\r\n        this.StartTime = {\r\n            value: 0\r\n        };\r\n        this.isStart = false; // 是否启动\r\n\r\n        this.loadScene(fun);\r\n    }\r\n    /**\r\n     * 加载配饰\r\n     * @param {*} cityArray \r\n     */\r\n    loadeffect(){\r\n        for(let cur in this.effectMap){\r\n            const effect = this.effectMap[cur];\r\n            const obj = this.app.scene.getObjectByName(cur);\r\n            if(obj){\r\n                obj.opacity = effect.opacity;\r\n                this.setCityMaterial(obj);\r\n                // 添加包围线条效\r\n                this.surroundLine(obj, effect);\r\n            }\r\n        }    \r\n        this.init();   \r\n    }\r\n\r\n    /**\r\n     * 加载场景\r\n     * @param {*} cityArray \r\n     * @param {*} fun \r\n     */\r\n    loadScene(fun){\r\n        this.loadGltf( window.baseSceneUrl).then((scene) => {\r\n            scene.position.setY(108);\r\n            scene.name = 'pyScene';\r\n            this.group.add(scene);\r\n            const ch = this.group.getObjectByName('对象001');\r\n            ch.setPickEnabled(false);\r\n            ch.setOpacity(0.3);\r\n            if(fun){fun()}\r\n        });  \r\n    }\r\n\r\n    /**\r\n     *  Loader Model\r\n     */\r\n    loadGltf(url) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this.gltfLoader.load(url, (obj) => {\r\n                    resolve(obj.scene);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    init() {\r\n        // setTimeout(() => {\r\n        this.isStart = true;\r\n        // 加载扫描效果\r\n        radarData.forEach((data) => {\r\n            const mesh = Radar(data);\r\n            mesh.material.uniforms.time = this.time;\r\n            this.effectGroup.add(mesh);\r\n        });\r\n        // 光墙\r\n        wallData.forEach((data) => {\r\n            const mesh = Wall(data);\r\n            mesh.material.uniforms.time = this.time;\r\n            this.effectGroup.add(mesh);\r\n        });\r\n        // 飞点\r\n        flyData.forEach((data) => {\r\n            const mesh = Fly(data);\r\n            mesh.material.uniforms.time = this.time;\r\n            mesh.renderOrder = 10;\r\n            this.effectGroup.add(mesh);\r\n        });\r\n        // }, 1000);\r\n    }\r\n    // Mesh\r\n    /**\r\n     *  \r\n     */\r\n    setCityMaterial(object) {\r\n        // 确定oject的geometry的box size\r\n        object.geometry.computeBoundingBox();\r\n        object.geometry.computeBoundingSphere();\r\n\r\n        const {\r\n            geometry\r\n        } = object;\r\n\r\n        // 获取geometry的长宽高 中心点\r\n        const {\r\n            center,\r\n            radius\r\n        } = geometry.boundingSphere;\r\n\r\n        const {\r\n            max,\r\n            min\r\n        } = geometry.boundingBox;\r\n\r\n        const size = new THREE.Vector3(\r\n            max.x - min.x,\r\n            max.y - min.y,\r\n            max.z - min.z\r\n        );\r\n\r\n        Utils.forMaterial(object.material, (material) => {\r\n            material.opacity = 0.6;\r\n            material.transparent = true;\r\n            material.color.setStyle(\"#1B3045\");\r\n\r\n            material.onBeforeCompile = (shader) => {\r\n                shader.uniforms.time = this.time;\r\n                shader.uniforms.uStartTime = this.StartTime;\r\n\r\n                // 中心点\r\n                shader.uniforms.uCenter = {\r\n                    value: center\r\n                }\r\n\r\n                // geometry大小\r\n                shader.uniforms.uSize = {\r\n                    value: size\r\n                }\r\n\r\n                shader.uniforms.uMax = {\r\n                    value: max\r\n                }\r\n\r\n                shader.uniforms.uMin = {\r\n                    value: min\r\n                }\r\n                shader.uniforms.uTopColor = {\r\n                    value: new THREE.Color('#FFFFDC')\r\n                }\r\n\r\n                // 效果开关\r\n                shader.uniforms.uSwitch = {\r\n                    value: new THREE.Vector3(\r\n                        0, // 扩散\r\n                        0, // 左右横扫\r\n                        0 // 向上扫描\r\n                    )\r\n                };\r\n                // 扩散\r\n                shader.uniforms.uDiffusion = {\r\n                    value: new THREE.Vector3(\r\n                        1, // 0 1开关\r\n                        120, // 范围\r\n                        600 // 速度\r\n                    )\r\n                };\r\n                // 扩散中心点\r\n                shader.uniforms.uDiffusionCenter = {\r\n                    value: new THREE.Vector3(\r\n                        0, 0, 0\r\n                    )\r\n                };\r\n\r\n                // 扩散中心点\r\n                shader.uniforms.uFlow = {\r\n                    value: new THREE.Vector3(\r\n                        1, // 0 1开关\r\n                        10, // 范围\r\n                        20 // 速度\r\n                    )\r\n                };\r\n\r\n                // 效果颜色\r\n                shader.uniforms.uColor = {\r\n                    value: new THREE.Color(\"#5588aa\")\r\n                }\r\n                // 效果颜色\r\n                shader.uniforms.uFlowColor = {\r\n                    value: new THREE.Color(\"#5588AA\")\r\n                }\r\n\r\n                // 效果透明度\r\n                shader.uniforms.uOpacity = {\r\n                    value: 1\r\n                }\r\n\r\n                // 效果透明度\r\n                shader.uniforms.uRadius = {\r\n                    value: radius\r\n                }\r\n\r\n                /**\r\n                 * 对片元着色器进行修改\r\n                 */\r\n                const fragment = `\r\n    float distanceTo(vec2 src, vec2 dst) {\r\n        float dx = src.x - dst.x;\r\n        float dy = src.y - dst.y;\r\n        float dv = dx * dx + dy * dy;\r\n        return sqrt(dv);\r\n    }\r\n\r\n    float lerp(float x, float y, float t) {\r\n        return (1.0 - t) * x + t * y;\r\n    }\r\n\r\n    vec3 getGradientColor(vec3 color1, vec3 color2, float index) {\r\n        float r = lerp(color1.r, color2.r, index);\r\n        float g = lerp(color1.g, color2.g, index);\r\n        float b = lerp(color1.b, color2.b, index);\r\n        return vec3(r, g, b);\r\n    }\r\n\r\n    varying vec4 vPositionMatrix;\r\n    varying vec3 vPosition;\r\n\r\n    uniform float time;\r\n    // 扩散参数\r\n    uniform float uRadius;\r\n    uniform float uOpacity;\r\n    // 初始动画参数\r\n    uniform float uStartTime; \r\n\r\n    uniform vec3 uMin;\r\n    uniform vec3 uMax;\r\n    uniform vec3 uSize;\r\n    uniform vec3 uFlow;\r\n    uniform vec3 uColor;\r\n    uniform vec3 uCenter;\r\n    uniform vec3 uSwitch;\r\n    uniform vec3 uTopColor;\r\n    uniform vec3 uFlowColor;\r\n    uniform vec3 uDiffusion; \r\n    uniform vec3 uDiffusionCenter;\r\n\r\n    void main() {\r\n        `;\r\n                const fragmentColor = `\r\n    vec3 distColor = outgoingLight;\r\n    float dstOpacity = diffuseColor.a;\r\n    \r\n    float indexMix = vPosition.z / (uSize.z * 0.6);\r\n    distColor = mix(distColor, uTopColor, indexMix);\r\n    \r\n    // 开启扩散波\r\n    vec2 position2D = vec2(vPosition.x, vPosition.y);\r\n    if (uDiffusion.x > 0.5) {\r\n        // 扩散速度\r\n        float dTime = mod(time * uDiffusion.z, uRadius * 2.0);\r\n        // 当前的离中心点距离\r\n        float uLen = distanceTo(position2D, vec2(uCenter.x, uCenter.z));\r\n\r\n        // 扩散范围\r\n        if (uLen < dTime && uLen > dTime - uDiffusion.y) {\r\n            // 颜色渐变\r\n            float dIndex = sin((dTime - uLen) / uDiffusion.y * PI);\r\n            distColor = mix(uColor, distColor, 1.0 - dIndex);\r\n        }\r\n    }\r\n\r\n    // 流动效果\r\n    if (uFlow.x > 0.5) {\r\n        // 扩散速度\r\n        float dTime = mod(time * uFlow.z, uSize.z); \r\n        // 流动范围\r\n        float topY = vPosition.z + uFlow.y;\r\n        if (dTime > vPosition.z && dTime < topY) {\r\n            // 颜色渐变 \r\n            float dIndex = sin((topY - dTime) / uFlow.y * PI);\r\n\r\n            distColor = mix(distColor, uFlowColor,  dIndex); \r\n        }\r\n    }\r\n  \r\n\r\n    gl_FragColor = vec4(distColor, dstOpacity * uStartTime);\r\n        `;\r\n                shader.fragmentShader = shader.fragmentShader.replace(\"void main() {\", fragment)\r\n                shader.fragmentShader = shader.fragmentShader.replace(\"gl_FragColor = vec4( outgoingLight, diffuseColor.a );\", fragmentColor);\r\n\r\n\r\n\r\n                /**\r\n                 * 对顶点着色器进行修改\r\n                 */\r\n                const vertex = `\r\n    varying vec4 vPositionMatrix;\r\n    varying vec3 vPosition;\r\n    uniform float uStartTime;\r\n    void main() {\r\n            vPositionMatrix = projectionMatrix * vec4(position, 1.0);\r\n            vPosition = position;\r\n            `\r\n                const vertexPosition = `\r\n    vec3 transformed = vec3(position.x, position.y, position.z * uStartTime);\r\n            `\r\n\r\n                shader.vertexShader = shader.vertexShader.replace(\"void main() {\", vertex);\r\n                shader.vertexShader = shader.vertexShader.replace(\"#include <begin_vertex>\", vertexPosition);\r\n            }\r\n        })\r\n    }\r\n\r\n    // Line\r\n    /**\r\n     * 获取包围线条效果\r\n     */\r\n    surroundLine(object, { opacity = 0.6, uColor = '#4C8BF5', uActiveColor = '#fff' }) {\r\n        // 获取线条geometry\r\n        const geometry = Effects.surroundLineGeometry(object);\r\n        // 获取物体的世界坐标 旋转等\r\n        const worldPosition = new THREE.Vector3();\r\n        object.getWorldPosition(worldPosition);\r\n\r\n        // 传递给shader重要参数\r\n        const {\r\n            max,\r\n            min\r\n        } = object.geometry.boundingBox;\r\n\r\n        const size = new THREE.Vector3(\r\n            max.x - min.x,\r\n            max.y - min.y,\r\n            max.z - min.z\r\n        );\r\n\r\n        // this.effectGroup.add();\r\n        const material = this.createSurroundLineMaterial({\r\n            max,\r\n            min,\r\n            size,\r\n            opacity,\r\n            uColor,\r\n            uActiveColor\r\n        });\r\n\r\n        const line = new THREE.LineSegments(geometry, material);\r\n\r\n        line.name = 'surroundLine';\r\n\r\n        line.scale.copy(object.scale);\r\n        line.rotation.copy(object.rotation);\r\n        line.position.copy(worldPosition);\r\n        this.effectGroup.add(line);\r\n    }\r\n\r\n    /**\r\n     * 创建包围线条材质\r\n     */\r\n    createSurroundLineMaterial({\r\n        max,\r\n        min,\r\n        size,\r\n        opacity = 0.6,\r\n        uColor = '#4C8BF5',\r\n        uActiveColor = '#fff'\r\n    }) {\r\n        // if (this.surroundLineMaterial) return this.surroundLineMaterial;\r\n\r\n        this.surroundLineMaterial = new THREE.ShaderMaterial({\r\n            transparent: true,\r\n            uniforms: {\r\n                uColor: {\r\n                    value: new THREE.Color(uColor)\r\n                },\r\n                uActive: {\r\n                    value: new THREE.Color(uActiveColor)\r\n                },\r\n                time: this.time,\r\n                uOpacity: {\r\n                    value: opacity\r\n                },\r\n                uMax: {\r\n                    value: max,\r\n                },\r\n                uMin: {\r\n                    value: min,\r\n                },\r\n                uRange: {\r\n                    value: 200\r\n                },\r\n                uSpeed: {\r\n                    value: 0.2\r\n                },\r\n                uStartTime: this.StartTime\r\n            },\r\n            vertexShader: Shader.surroundLine.vertexShader,\r\n            fragmentShader: Shader.surroundLine.fragmentShader\r\n        });\r\n\r\n        return this.surroundLineMaterial;\r\n    }\r\n\r\n    animate = (dt) => {\r\n        if (dt > 1) return false;\r\n        this.time.value += dt;\r\n\r\n        // 启动\r\n        if (this.isStart) {\r\n            this.StartTime.value += dt * 0.5;\r\n            if (this.StartTime.value >= 1) {\r\n                this.StartTime.value = 1;\r\n                this.isStart = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Tunnel;","/* eslint-disable no-undef */\r\nimport * as THREE from \"three\";\r\nimport Lines from \"../obj/obj_lines\";\r\nimport { Tween } from \"@tweenjs/tween.js\";\r\nclass FLy {\r\n    constructor(app) {\r\n        this.app = app;\r\n        this.controls = app.render.controls;\r\n        this.camera = app.camera;\r\n        this.current = {\r\n            x: this.camera.position.x,\r\n            y: this.camera.position.y,\r\n            z: this.camera.position.z,\r\n            x1: this.controls.target.x,\r\n            y1: this.controls.target.y,\r\n            z1: this.controls.target.z\r\n        };\r\n\r\n        this.customizedObj = {\r\n            // -439.0443372110081, y: 391.48642692640556, z: 4681.731786783385\r\n            '对象002': {\r\n                x: -439, //增加一些偏移量，使相机与目标物体之间有些距离，以便于观察\r\n                y: 451,\r\n                z: 4881,\r\n                x1: 0,\r\n                y1: 0,\r\n                z1: 0\r\n            },\r\n            // {x: -3641.547739855345, y: 2199.633399526, z: -77.62106371215005}\r\n            // 6721.414486729492, y: 3473.8716301081236, z: 3446.3325289262807\r\n            'default': {\r\n                x: -3641, //增加一些偏移量，使相机与目标物体之间有些距离，以便于观察\r\n                y: 2199,\r\n                z: -77,\r\n                x1: 0,\r\n                y1: 0,\r\n                z1: 0\r\n            },\r\n            'tunnel': {\r\n                // -111.74251405343863, y: 176.66465888727515, z: -920.12404618053\r\n                x: -114, //增加一些偏移量，使相机与目标物体之间有些距离，以便于观察\r\n                y: 176,\r\n                z: -920,\r\n                // {x: -46, y: 120, z: -932}\r\n                x1: -46,\r\n                y1: 120,\r\n                z1: -932\r\n            }\r\n        }\r\n\r\n        // 隧道集合\r\n        this.tunnelArray = ['对象011', '对象012', '对象013', '对象014', '对象015', '对象016',\r\n            '对象017', '对象018', '对象019', '对象020', '对象021', '对象022', '对象023',\r\n            '对象024', '对象025', '对象026'];\r\n\r\n    }\r\n\r\n    getCustomizedPos(name) {\r\n        // todo 临时\r\n        if (this.tunnelArray.includes(name)) {\r\n            name = 'tunnel';\r\n        }\r\n        return this.customizedObj[name]\r\n    }\r\n\r\n    getResultData(mesh) {\r\n        let target = {}\r\n        if (typeof mesh === 'object') {\r\n            const { x, y, z } = mesh.getCenter && mesh.getCenter();\r\n            const arr = mesh instanceof Lines ? [30, 20, 30] : [300, 500, 300];\r\n            target = this.getCustomizedPos(mesh.name) || {\r\n                x: x + arr[0], //增加一些偏移量，使相机与目标物体之间有些距离，以便于观察\r\n                y: y + arr[1],\r\n                z: z + arr[2],\r\n                x1: x,\r\n                y1: y,\r\n                z1: z\r\n            }\r\n        } else {\r\n            target = this.getCustomizedPos(mesh)\r\n        }\r\n        return target;\r\n\r\n    }\r\n    flyTo(mesh, fun) {\r\n        const target = this.getResultData(mesh)\r\n        this.tween = new Tween(this.current);\r\n        // 这一部分一定要加上，不然flyTo动作完成后，\r\n        // 不论点击任何位置，controls都会将lootAt指向flyTo之前的位置\r\n        // 将controls 的观察目标设置为选中物体\r\n        this.tween.onComplete(() => {\r\n            let temp = new THREE.Vector3(target.x1, target.y1, target.z1);\r\n            if (fun) fun();\r\n            this.controls.target = temp;\r\n        });\r\n        // 每次更新相机位置和朝向\r\n        this.tween.onUpdate(() => {\r\n            META.fly.update();\r\n        });\r\n        this.tween.to(target, 1500);\r\n        this.tween.start();\r\n    }\r\n\r\n    update() {\r\n        this.camera.position.set(this.current.x, this.current.y, this.current.z);\r\n        this.camera.lookAt(this.current.x1, this.current.y1, this.current.z1);\r\n    }\r\n    // 在threejs的animate函数中添加\r\n\r\n    animate(time) {\r\n        this.tween && this.tween.update();\r\n        this.mixer && this.mixer.update(time);\r\n    }\r\n\r\n    // 沿轨道飞行\r\n    motion() {\r\n        // 通过类CatmullRomCurve3创建一个3D样条曲线\r\n        const box = new THREE.BoxGeometry(5, 5, 5);\r\n        //材质对象\r\n        const mesh = new THREE.Mesh(box, new THREE.MeshLambertMaterial({\r\n            color: 0x0000ff\r\n        }));\r\n        this.app.scene.add(mesh);\r\n        mesh.position.set(-10, -50, -50)\r\n        // 通过类CatmullRomCurve3创建一个3D样条曲线\r\n        const curve = new THREE.CatmullRomCurve3([\r\n            new THREE.Vector3(-10, -50, -50),\r\n            new THREE.Vector3(10, 0, 0),\r\n            new THREE.Vector3(8, 50, 50),\r\n            new THREE.Vector3(-5, 0, 100)\r\n        ]);\r\n        // 样条曲线均匀分割100分，返回51个顶点坐标\r\n        const points = curve.getPoints(100);\r\n        console.log('points', points);//控制台查看返回的顶点坐标\r\n        const geometry = new THREE.BufferGeometry();\r\n        // 把从曲线轨迹上获得的顶点坐标赋值给几何体\r\n        geometry.vertices = points\r\n        const material = new THREE.LineBasicMaterial({\r\n\r\n            color: 0x4488ff\r\n        });\r\n        const line = new THREE.Line(geometry, material);\r\n        this.app.scene.add(line)\r\n        // 通过Threejs的帧动画相关API播放网格模型沿着曲线做动画运动\r\n        // 声明一个数组用于存储时间序列\r\n        let arr = []\r\n        for (let i = 0; i < 101; i++) {\r\n\r\n            arr.push(i)\r\n        }\r\n        // 生成一个时间序列\r\n        var times = new Float32Array(arr);\r\n        var posArr = []\r\n        points.forEach(elem => {\r\n\r\n            posArr.push(elem.x, elem.y, elem.z)\r\n        });\r\n        // 创建一个和时间序列相对应的位置坐标系列\r\n        var values = new Float32Array(posArr);\r\n        // 创建一个帧动画的关键帧数据，曲线上的位置序列对应一个时间序列\r\n        var posTrack = new THREE.KeyframeTrack('.position', times, values);\r\n        let duration = 101;\r\n        let clip = new THREE.AnimationClip(\"default\", duration, [posTrack]);\r\n        this.mixer = new THREE.AnimationMixer(mesh);\r\n        let AnimationAction = this.mixer.clipAction(clip);\r\n        AnimationAction.timeScale = 20;\r\n        AnimationAction.play();\r\n    }\r\n\r\n    changeLookAt(t) {\r\n        // 当前点在线条上的位置\r\n        var position = curve.getPointAt(t);\r\n        mesh.position.copy(position);\r\n\r\n        // 返回一个点t在曲线上位置向量的法线向量\r\n        const tangent = curve.getTangentAt(t);\r\n        // 位置向量和切线向量相加即为所需朝向的点向量\r\n        const lookAtVec = tangent.add(position);\r\n        mesh.lookAt(lookAtVec);\r\n    }\r\n}\r\nexport default FLy","/* eslint-disable no-undef */\r\nimport * as THREE from \"three\";\r\nimport { Scene } from \"three\";\r\nimport EventInput from \"./eventInput\";\r\nimport ProductManager from \"../product\";\r\nimport factory from \"../lib/obj_factory\";\r\n// 效果pass\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { CSS2DRenderer } from 'three/examples/jsm/renderers/CSS2DRenderer';\r\nimport environmentEffect from \"./environmentEffect\";\r\nimport Tunnel from \"../obj/obj_tunnel\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { FlyControls } from \"three/examples/jsm/controls/FlyControls\";\r\nimport FLy from \"./flyTo\";\r\nimport { parkDefult } from \"../lib/viewpoint\";\r\nimport {initData} from \"../lib/viewpoint\";\r\nclass Meta {\r\n    constructor() {\r\n        this.scene = new Scene; //场景\r\n        this.factory = factory;\r\n        this.camera = null; //摄影机\r\n        this.render = null; // 渲染器\r\n        this.clock = new THREE.Clock(); // 鼠标\r\n        this.CSS2DRenderer = new CSS2DRenderer(); // 2D渲染器\r\n        this.isLogin = 0;\r\n        this.dom = null;\r\n        this.scId = null; //场景id\r\n        this.productManager = new ProductManager;\r\n        this.mixerObject = {};\r\n        this.isFlyControls = false;\r\n        this.isScreen = false;// 正常访问都是非大屏的\r\n        this.onLoad = false;\r\n    }\r\n\r\n\r\n    /**\r\n *  初始化\r\n */\r\n    async init(dom) {\r\n        // 需要渲染的 dom 空间\r\n        this.dom = dom || document.getElementById('div3d');\r\n        // 添加状态\r\n        // 初始化场景和摄影机\r\n        this.initSceneAndCamera();\r\n        // 初始化渲染器\r\n        this.initRender();\r\n        // top提示\r\n        this.creatCSS2DRenderer();\r\n        // 新增旋转插件\r\n        this.initControls();\r\n        // this.scId = param.scid;\r\n        this.tunnel = new Tunnel(this, () => {\r\n            this.callFun();\r\n            // 自动刷帧\r\n            this.animate();\r\n            // 启动动态更新dom\r\n            this.updateOnWindowResize();\r\n            // this.tunnel.loadeffect();\r\n        });\r\n        this.scene.add(this.tunnel.group);\r\n    }\r\n\r\n    async loadScene() {\r\n        // // 加载所有模型资源 1.0\r\n        await this.productManager.loadModels();\r\n        // 加载所有单个资源\r\n        await this.productManager.loadMaterials();\r\n        // // 渲染场景\r\n        this.productManager.setParkObj(this.productManager.getModelByName('demo').scene);\r\n        this.factory.getCis(10010, () => {\r\n            //     // 默认抬高场景\r\n            const park = this.scene.children.filter((cur) => cur.type === 'Park')[0];\r\n            if (park) {\r\n                park.position.setY(208);\r\n            }\r\n            // this.effect();\r\n            this.callFun();\r\n            // 自动刷帧\r\n            this.animate();\r\n        });\r\n    }\r\n    /**\r\n     * init 摄影机渲染器和\r\n     */\r\n    initSceneAndCamera() {\r\n        //摄影机\r\n        this.camera = new THREE.PerspectiveCamera(45, this.dom.clientWidth / this.dom.clientHeight, 1, 5000000);\r\n        this.camera.position.set(6706.452849809113, 3466.627800031605, 3438.7962564494514);\r\n        this.camera.lookAt(this.scene.position);\r\n        this.scene.add(this.camera);\r\n    }\r\n    /**\r\n     * 场景加载完成添加特效和后续事件\r\n     */\r\n    callFun() {\r\n        this.effect = new environmentEffect(this);\r\n        // 鼠标操作事件\r\n        this.eventInput = new EventInput(this);\r\n        // 支持飞行\r\n        this.fly = new FLy(this);\r\n        // 支持飞行左右浮动\r\n        // this.createFlyControls();\r\n        // 飞入默认视角\r\n        // 飞入默认场景\r\n         // 初始测试数据\r\n        initData(this.dom.offsetWidth > 1920 ? true : false);\r\n        this.isScreen = this.dom.offsetWidth > 1920 ? false : false;\r\n        this.onLoad = true;\r\n        this.fly.flyTo('default', () => {\r\n            parkDefult();\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 初始化 render\r\n     * @returns {Promise<*>}\r\n     */\r\n    initRender() {\r\n        //渲染器\r\n        const canvas = document.createElement('canvas');\r\n        const context = canvas.getContext('webgl2', {\r\n            antialias: true,\r\n            alpha: true\r\n        });\r\n        this.render = new THREE.WebGLRenderer({ canvas: canvas, context: context }); // 渲染器\r\n        this.render.gammaInput = true;\r\n        // 阴影模糊化\r\n        this.render.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        this.render.gammaOutput = true;\r\n        this.render.shadowMap.enabled = true;\r\n        this.render.setSize(this.dom.clientWidth, this.dom.clientHeight);//渲染器\r\n        // 效果渲染器\r\n        this.composer = new EffectComposer(this.render);\r\n        const renderPass = new RenderPass(this.scene, this.camera);\r\n        this.composer.addPass(renderPass);\r\n        this.dom.appendChild(this.render.domElement); //渲染器\r\n    }\r\n\r\n    /**\r\n     * 初始化2DRender\r\n     */\r\n    creatCSS2DRenderer() {\r\n        this.CSS2DRenderer.setSize(this.dom.clientWidth, this.dom.clientHeight);\r\n        this.CSS2DRenderer.domElement.style.position = 'absolute';\r\n        this.CSS2DRenderer.domElement.style.top = '0';\r\n        this.dom.appendChild(this.CSS2DRenderer.domElement);\r\n    }\r\n\r\n    /**\r\n     * 左右控制控件\r\n     */\r\n    createFlyControls() {\r\n        this.flyControls = new FlyControls(this.camera, this.render.domElement)\r\n        this.flyControls.movementSpeed = 35 //移动速度\r\n        this.flyControls.domElement = this.render.domElement //配置dom元素\r\n        this.flyControls.rollSpeed = Math.PI / 6 //翻滚角速度\r\n        this.flyControls.autoForward = false //自动向前关闭\r\n        this.flyControls.dragToLook = false //拖动视图变换关闭\r\n    }\r\n\r\n    /**\r\n     * 旋转插件驱动\r\n     * @returns {*|exports.default|THREE.OrbitControls}\r\n     */\r\n    initControls() {\r\n        const controls = new OrbitControls(this.camera, this.CSS2DRenderer.domElement);\r\n        controls.target.set(0, 0.5, 0);\r\n        // controls.enableDamping = true;\r\n        //是否可以缩放\r\n        controls.enableZoom = true;\r\n        //是否自动旋转\r\n        //controls.autoRotate = true;\r\n        //是否开启右键拖拽\r\n        controls.enablePan = true;\r\n        //缩放限制\r\n        controls.maxDistance = 20000;\r\n        this.render.controls = controls;\r\n    }\r\n    /**\r\n     * 刷帧事件\r\n     * 可以注册update事件\r\n     */\r\n    renderer3dUpdate() {\r\n        //更新帧时间\r\n        if (this.mixer) {\r\n            this.mixer.update(this.clock.getDelta())\r\n        }\r\n        // 第一人称事件\r\n        // this.isFlyControls && this.flyControls.update(this.clock.getDelta());\r\n        // 特效\r\n        this.tunnel && this.tunnel.animate(this.clock.getDelta());\r\n\r\n        // 飞行刷新\r\n        this.fly.animate(this.clock.getDelta());\r\n        // 2D刷新\r\n        this.CSS2DRenderer.render(this.scene, this.camera);\r\n        // 描变和高光\r\n        this.composer.render();\r\n    }\r\n\r\n    /**\r\n     * 动画帧\r\n     * @param {*} name \r\n     * @param {*} mesh \r\n     */\r\n    setMixerObj(name, mesh) {\r\n        this.mixerObject[name] = mesh\r\n    }\r\n\r\n    /**\r\n     * 动画帧\r\n     * @param {*} name \r\n     * @param {*} mesh \r\n     */\r\n    getMixerObj(name) {\r\n        return this.mixerObject[name]\r\n    }\r\n\r\n    /**\r\n     * 删除动画帧\r\n     * @param {*} name \r\n     */\r\n    removeMixer(name) {\r\n        delete this.mixerObject[name];\r\n    }\r\n\r\n    /**\r\n     * 更新动画帧\r\n     * @param {*} time \r\n     */\r\n    updateMixer(time) {\r\n        for (let cur in this.mixerObject) {\r\n            this.mixerObject[cur].update(time);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 渲染器\r\n     */\r\n    animate() {\r\n        window.META.renderer3dUpdate();\r\n        // 刷新动画\r\n        // if ( this.mixer ) this.mixer.update( dt );\r\n        // 更新状态\r\n        // stats.update();\r\n        // 3D其他刷新事件\r\n        requestAnimationFrame(window.META.animate);//渲染器\r\n        // META.render.render(META.scene, META.camera);\r\n    }\r\n\r\n    updateOnWindowResize() {\r\n        window.addEventListener('resize', () => {\r\n            this.updateDomResize();\r\n        }, true);\r\n    }\r\n\r\n    updateDomResize() {\r\n        let innerWidth = window.innerWidth;\r\n        let innerHeight = window.innerHeight;\r\n        this.dom.style.width = innerWidth + 'px';\r\n        this.dom.style.height = innerHeight + 'px';\r\n        this.camera.aspect = innerWidth / innerHeight;\r\n        this.camera.updateProjectionMatrix();\r\n        this.render.setSize(innerWidth, innerHeight);\r\n    }\r\n\r\n}\r\nwindow.META = new Meta();","import \"./extend/object3D_Ex\";\r\nimport $ from \"jquery\"\r\nimport \"./tools/meta\";\r\nimport create from \"./lib/obj_create\";\r\nwindow.$ = $;\r\nwindow.META = window.META || {};\r\nwindow.META.isMock = true;\r\nwindow.META.creeate = create;\r\n","import Vue from 'vue'\r\nimport ViewUI from 'view-design'\r\nimport 'view-design/dist/styles/iview.css'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport './js/3d/index'\r\nVue.use(ViewUI);\r\n\r\nVue.config.productionTip = false\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + \"about\" + \"-legacy.\" + \"0cc62066\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"channel:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchannel\"] = self[\"webpackChunkchannel\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7447); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","staticClass","time","_e","style","width","height","name","props","msg","data","methods","init","META","mounted","staticStyle","_v","loadingTime","_s","imgBg","top","components","THREE","Loading","Header","BusinessWrap","PanelContent","Layer","interval","onLoad","load","clearInterval","Vue","VueRouter","routes","path","HomeView","router","base","process","isType","obj","type","toString","call","midpoint","x1","y1","x2","y2","get2DPointAngle","radian","Math","atan2","PI","getDistance","sqrt","parseVector3","value","defaultValue","isVector3","Array","isArray","length","parseFloat","strings","split","i","string","trimBoth","isBlank","splice","Number","v3","box3","Object3D","localPos","ignoreScale","node","updateMatrixWorld","position","scale","quaternion","matrixWorld","decompose","compose","applyMatrix4","toArray","localToWorld","aabb","getFromObjAabb","size","getSize","x","y","z","depth","center","setFromObject","bool","pickEnabled","undefined","pos","vec","clone","resultPos","worldToLocal","parent","set","self","traverse","geometry","dispose","material","remove","op","opacity","Mesh","Lines","param","_POINTS_","_RADIUS_","points","JSON","parse","forEach","cur","push","curve","tubeGeometry","tubeMaterial","color","side","transparent","fieldTips","title","content","div","document","createElement","offsetWidth","dom","isScreen","bottom","padding","background","window","baseImage","backgroundSize","fontSize","zIndex","label","CSS2DObject","pointerEvents","html","innerHTML","visible","speedCar","speed","traffic","geomagneticCity","contentSize","right","baseUrl","jamAlarm","left","carAccident","tunnelData","alarmList","opArray","initData","tunnelDefault","app","index","scene","add","ch","getObjectByName","removeTunnelDefault","parkDefult","parentObj","removeParkDefult","EventInput","mouse","raycaster","selectedObject","rootObj","count","timer","flyEnd","addEventListener","addOnClick","onLeftDbClick","oncontextmenu","rightDbCLick","eventInput","event","preventDefault","clientX","innerWidth","clientY","innerHeight","setFromCamera","camera","pickObj","getPickObj","intersectObject","outLinePass","selectedObjects","fly","flyTo","isFlyControls","setTimeout","clearTimeout","eventLists","arr","pick","object","getPickEnabled","getProduct","Promise","resolve","getProductMaterial","loader","GLTFLoader","textureLoader","ProductManager","productModelLists","productMaterialsList","productModelObjs","materialsObjs","parkObj","that","all","map","element","loadModel","url","model","getChildByName","gltf","loadMaterial","getToken","service","axios","baseURL","timeout","post","params","method","interceptors","request","use","config","token","headers","error","reject","response","res","status","Message","message","getScCis","id","isMock","$","Device","actions","_PRODUCT_","_OFFSET_","_STYLE_","_NAME_","_ISPICK_","productManager","getParkChildNams","animations","isAnimations","creatAnimations","lastActiveAction","copy","setPickEnabled","states","emotes","mixer","clip","action","clipAction","indexOf","clampWhenFinished","loop","fadeToAction","duration","fadeOut","reset","setEffectiveTimeScale","setEffectiveWeight","fadeIn","play","setInterval","Walls","start","end","PARENTWIDTH","PARENTDEPAT","w","angle","shapeBox","moveTo","lineTo","_CHILDREN_","_LOCATION_","getModelByName","getWorldAABB","setDoorPosit","holes","extrudeSettings","bevelEnabled","bevelThickness","bevelSize","bevelSegments","roughness","metalness","rotation","smileyMouthPath","Box","cubeMat","random","WIDTH","HEIGHT","DEPAT","boxGeometry","castShadow","receiveShadow","Park","InstancedEx","alls","rotations","scales","matrix","setFromEuler","makeInstanced","randomizeMatrix","setMatrixAt","InstancedMesh","GroupEx","Group","create","objTypes","setType","getObjTypes","userData","complete","factory","objs","createObject","_PARENTDBID_","_ID_","_TYPE_","createObj","getObjectByDbid","dbid","getCis","scId","fun","then","loading","parseInt","recursiveObj","boomParams","exposure","bloomStrength","bloomThreshold","bloomRadius","environmentEffect","pass","GlitchPass","OutlinePass","offsetHeight","bloomPass","UnrealBloomPass","initOutLine","addPointLight","addBackgroundImg","dirLight","setHSL","multiplyScalar","Utils","forMaterial","setStyle","gt","gg","gm","ground","repeat","wrapS","wrapT","encoding","bulbGeometry","bulbLight","bulbMat","emissive","emissiveIntensity","hemiLight","fog","texture","mesh","circle","loader1","bgTexture","edgeStrength","edgeGlow","edgeThickness","pulsePeriod","visibleEdgeColor","composer","addPass","threshold","strength","radius","renderToScreen","surroundLineGeometry","surroundLine","vertexShader","fragmentShader","materials","callback","mat","frag_basic","Shader","opts","uniforms","u_radius","u_speed","u_opacity","u_width","u_color","depthWrite","option","renderOrder","translate","u_height","depthTest","source","target","range","positions","attrPositions","attrCindex","attrCnumber","_source","_target","_center","lerp","number","distanceTo","getPoints","elem","p","setAttribute","shader","blending","uColor","uRange","uSize","uTotal","point","radarData","wallData","flyData","Tunnel","dt","isStart","StartTime","gltfLoader","group","effectMap","uActiveColor","effectGroup","surroundLineMaterial","loadScene","effect","setCityMaterial","loadGltf","baseSceneUrl","setY","setOpacity","e","Radar","Wall","Fly","computeBoundingBox","computeBoundingSphere","boundingSphere","boundingBox","max","min","onBeforeCompile","uStartTime","uCenter","uMax","uMin","uTopColor","uSwitch","uDiffusion","uDiffusionCenter","uFlow","uFlowColor","uOpacity","uRadius","fragment","fragmentColor","replace","vertex","vertexPosition","Effects","worldPosition","getWorldPosition","createSurroundLineMaterial","line","uActive","uSpeed","FLy","controls","current","z1","customizedObj","tunnelArray","includes","getCenter","getCustomizedPos","getResultData","tween","Tween","onComplete","temp","onUpdate","update","to","lookAt","box","console","log","vertices","times","Float32Array","posArr","values","posTrack","AnimationAction","timeScale","t","getPointAt","tangent","getTangentAt","lookAtVec","Meta","Scene","clock","CSS2DRenderer","isLogin","mixerObject","getElementById","initSceneAndCamera","initRender","creatCSS2DRenderer","initControls","tunnel","callFun","animate","updateOnWindowResize","loadModels","loadMaterials","setParkObj","park","children","filter","clientWidth","clientHeight","canvas","context","getContext","antialias","alpha","gammaInput","shadowMap","gammaOutput","enabled","setSize","EffectComposer","renderPass","RenderPass","appendChild","domElement","flyControls","FlyControls","movementSpeed","rollSpeed","autoForward","dragToLook","OrbitControls","enableZoom","enablePan","maxDistance","getDelta","renderer3dUpdate","requestAnimationFrame","updateDomResize","aspect","updateProjectionMatrix","creeate","ViewUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","src","onScriptComplete","prev","onerror","onload","doneFns","parentNode","removeChild","bind","head","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","Error","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}